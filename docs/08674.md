# 使用 5333333 波特的串行打印进行调试

> 原文：<https://hackaday.com/2018/02/25/debugging-with-serial-print-at-5333333-baud/>

使用`printf`进行调试是【StorePeter】一直觉得非常方便的事情，因此他一直对调整过程以进行改进感兴趣。这种调试通常让微控制器通过串行端口发送消息，但在嵌入式开发中，并不总是有硬件 UART，或者它可能已经在使用中。他避免这些问题的首选方法是使用 USB 转串行适配器，并在微控制器端对串行进行位爆炸。在这个过程中，[StorePeter]想到他可以做很多简化工作，由于串行终端程序支持任意波特率，他[可靠地以 5.3 兆位/秒](http://peter.lorenzen.us/embedded/dprint)或 5333333 波特的速度通过串行发送调试信息。他的代码可以从他的网站上下载，并且在 Arduino IDE 中运行良好。

整个事情由一些简单的、易于移植的代码组成，以实现最少的位碰撞串行通信。这只是输出，没有反馈，定时只是以 CPU 能够处理的速度发送位，让 USB 串行适配器和世界上的其他设备来处理这个速度。在一个 16 MHz 的 AVR 上，传输一个比特可以用三条指令来完成，得出大约 5333333 波特或大约 5.3 兆比特/秒。将终端程序设置为 5333333 波特，你可以在大约 20 微秒内得到一个“Hello world ”,而 115200 波特时只需 1 毫秒。

他还得到了使用串行打印调试作为一个过程的额外技巧，他做了后续工作，在他的 3D 打印机中对来自 ATMega2560 的 16 MHz 的 5.3 MBit/sec 串行流的可靠性进行了压力测试，没有发现丢失的数据包。这当然包括将`printf`用作调试器，那么将[用作 printf](https://hackaday.com/2017/07/18/backchannel-uart-without-the-uart/) 的方法如何？