# 哦，太好了，WPA2 坏了

> 原文:[https://hackaday.com/2017/10/16/oh-great-wpa2-is-broken/](https://hackaday.com/2017/10/16/oh-great-wpa2-is-broken/)

WPA2，目前 Wi-Fi 网络的标准安全，[由于协议](https://www.krackattacks.com/)中的一个缺陷而被破解。这种破解带来的影响包括解密 Wi-Fi、劫持连接和注入内容。公平地说，WPA2 现在被认为是有害的。[该论文可在此处获得](https://papers.mathyvanhoef.com/ccs2017.pdf) (PDF)。

这是一个概念验证利用，像所有头条新闻网络安全故事一样，它有一个名字。它被称为 KRACK，代表 *K* ey *R* 安装 *A* tta *ck* 。此漏洞的关键在于路由器和设备之间建立安全连接的握手过程中存在漏洞。

这不是该漏洞背后的研究人员第一次在 WPA2 发现漏洞。在 KRACK 研究人员于去年 8 月在 USENIX 研讨会上发表的一篇论文中，他们指出 802.11 中使用的随机数发生器是有缺陷的，定义不清的，不安全的。研究人员还在 33 C3 谈到了预测 WPA2 组密钥。

RNG 定义和实施不当的实际后果可以在消费类硬件中找到。研究人员发现，在基于联发科的路由器中，随机性的唯一来源是当前时间。同时，基于 Broadcom 的路由器不使用 802.11 规范提出的 RNG，而是采用以微秒计的当前时间的 MD5。研究人员没有提到当前时间是否是一个秘密。

### 那我们现在怎么办？

[![](../Images/b7410e0d8c996da5128b0554253c8b04.png)](https://hackaday.com/wp-content/uploads/2017/10/hackercrowbar.jpg) 这种事以前发生过。2001 年，WEP——许多对安全一无所知的人仍在使用的 Wi-Fi 安全协议——被破解，就像 KRACK 一样。这很快导致了 Aircrack 的发展，2003 年，Wi-Fi 联盟推出了 WPA 和 WPA2。当然，你仍然可以为你的路由器选择一个废弃的安全协议，但是 WEP 黑客的问题已经解决了。

2000 年代初是一个不同的无线网络时代，尽管在 2017 年，Wi-Fi 渗透到了我们生活的每一寸。现在所有东西和每个人都有 Wi-Fi。这比破解 WEP 要大一点，但仍然有可能修补设备，以确保这种利用变得无用。安装那些安全更新，人们！当然，一年后仍将有数百万未打补丁的设备，对于这些路由器、物联网小玩意和其他无线设备来说，打开 WPA2 就相当于完全没有安全性。

也就是说，这不是像网络摄像头僵尸网络那样的世界末日。只有当攻击者在您的路由器范围内时，您才容易受到攻击，如果您访问安全的网站，您仍然是安全的。然而，关闭手机上的 Wi-Fi，依靠移动数据，不要忽视 HTTPS 证书警告，并插入以太网端口可能不是一个坏主意。