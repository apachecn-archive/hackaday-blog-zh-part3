# 开发黑客日超级会议徽章的危险

> 原文:[https://hack aday . com/2017/11/15/the-risks-of-developing-the-hack aday-super conference-badge/](https://hackaday.com/2017/11/15/the-perils-of-developing-the-hackaday-superconference-badge/)

如果你没有听说，世界上最好的硬件会议是在上周末。[黑客日超级会议](https://hackaday.io/superconference)是为期三天的硬件黑客活动、烙铁和一个史诗般的硬件徽章。分两个演讲阶段、两个研讨会区域、令人惊叹的 hallwaycon 和你能想象到的最好、最冷静的与会者，这就是终极硬件会议。

我们已经讨论了[这个徽章的血淋淋的细节](https://hackaday.com/2017/10/11/building-the-hackaday-superconference-badge/)，现在是时候讨论建造大量电子会议徽章的危险了。这是硬件演示，手工制造，badgelife，以及探索究竟可以将开发进度推多远，以将这些徽章推出门外，并送到热切的徽章黑客和与会者手中。

好消息是我们成功了，并且及时地把一个完整的徽章放在了每个与会者的手里(如果你没能参加会议，我们还有一些可用的徽章)。休息之后，请和我一起了解这一切是如何实现的，并看看最后一次装备过程的时间流逝。

### 一些重要的感谢:

[![](../Images/641d1d4455bfd5039263c907ea41e3a3.png)](https://hackaday.com/wp-content/uploads/2017/11/badge.jpg) 这个徽章是由[mikeselectricstyf](https://www.youtube.com/user/mikeselectricstuff)成名的【迈克哈里森】构思设计的。这个徽章包括一个摄像头，明亮的有机发光二极管显示器，加速度计，用于存储所有这些图片和视频的 microSD 卡支持，以及足够用于一些严重的硬件黑客攻击的 pin 头。他不仅贡献了自己的时间和经验，还在 hack aday . io 上做了令人惊讶的全面工作，记录了整个项目。非常感谢[迈克]。我们希望您能抽出时间，在徽章设计上为他送上一些美好的祝愿！

我们还想感谢 [Microchip](http://www.microchip.com/) 捐赠了主要的微控制器和 SRAM 芯片，以及 [Macrofab](https://macrofab.com/) 作为我们在该项目的合同制造商贡献了他们的一些时间和专业知识。

### 不断灭火

在地球上运输电子元件实际上是相当可怕的。整个项目进行得非常顺利，但是与任何硬件开发项目一样，道路上会有坎坷。什么样的颠簸？非常恼人的问题，可能会完全破坏这个项目。

在我们第一次拆除今年的徽章时，我解释了从易贝一个随机的家伙那里单一采购零部件的危险。我们已经解决了这个问题，但是当然，还会出现更多的问题。请记住，我们并没有改变 Supercon 的日期，所以这些徽章需要在某个日期前准备好。当你要做 500 英镑的东西时，这就变得复杂了，有时意味着要采取极端措施。

计划是通过 [MicrochipDirect](https://www.microchipdirect.com/) 订购主处理器的图片，因为你可以在发货前刷新固件。不幸的是，为这些芯片编程的准备时间是几个星期，所以我们回到了我们的备份计划:只是订购芯片，并让合同制造商用预编程的 PICKit 3 刻录引导加载程序。

[![](../Images/2fa4426a16787d0d742fd4d175900e1a.png)](https://hackaday.com/wp-content/uploads/2017/11/fedex.png)

Shipping electronic parts around the planet is a leading cause of indigestion

这是事情失败的地方。在一个星期五，也就是 Supercon 的三周前，我收到了 Macrofab 的一封邮件。SRAMs 来自 Microchip，但是图片却无处可寻。这引起了极大的恐慌，因为其他所有的东西都已准备就绪，可以在装配线上生产了。订单的追踪号码告诉我芯片在泰国和德克萨斯州休斯顿之间的某个地方。

我直接打电话给 Microchip，他们告诉我，他们会联系联邦快递，找出发生了什么事情。但是我们现在需要一个解决方案。作为对 is 的支持，我们从一家经销商处订购了 500 个引脚兼容的 PIC32 芯片，连夜运送到 Macrofab。这是我第三次或第四次在制作这个徽章的过程中说，'哎呀，我们花了几千美元'。

周一早上，这些照片神奇地出现在 Macrofab。我打电话取消了我周五下午下的订单，一切都很好。火被扑灭了。

为了好玩，我还检查了联邦快递对装满图片的包裹的跟踪，发现这些微控制器从泰国到阿拉斯加，到马来西亚，到阿拉斯加，到台湾，到孟菲斯的联邦快递母脑，最后到休斯顿。你给后勤人员高薪是有原因的。

[![](../Images/6e0ed834e84c988219a195907b715b76.png)](https://hackaday.com/wp-content/uploads/2017/11/offtheoven.jpg)

Populated boards, lined up on the Macrofab assembly line.

### 下线的徽章

当 Macrofab 开始通过烤箱发送徽章时，有一瞬间似乎一切正常，这真的会发生。然后我们收到了一封邮件。徽章没有通过自我测试。

[![](../Images/c88ae5e23df432365ad8b2a05338c490.png)](https://hackaday.com/wp-content/uploads/2017/11/fail.jpg) 如果你查看一下[这个徽章的官方项目回购](https://hackaday.io/project/27427-camera-badge-for-supercon-2017)，【迈克·哈里森】在这个徽章的固件开发上做得非常出色。有一个闪屏，视频录制，最相关的是 Macrofab，一个硬件自检。这对 Macrofab 的装配线来说是一个福音——装配工需要做的唯一事情就是连接 PICKit 3 编程器(不需要电脑)，点击上传，然后等待屏幕上出现“通过”这个词。

不幸的是，下线的前十几个徽章在自检期间从未显示“通过”。加速计失灵了。[Mike]很快为自检编写了一个额外的 I2C 实用程序，发现加速度计位于地址 3A 60，而它应该位于 32 60。如果你在家里记分，那就是一个错误。

这只是另一个在短时间内购买零件的结果。徽章原型使用了与生产版本几乎相同的部件。据我们目前所知，唯一的区别是我们告诉 Macrofab 订购的零件的 I2C 地址为 3A 60。没问题，那只是更新引导程序和测试固件中的一行代码。Macrofab 更换了他们的程序员的新固件，一切都神奇地工作了。

### 撒尿废话

如果你以前从未做过任何手工制造，你真的不会意识到做一件事情 500 次需要多少时间。如果你需要做一次任务*——比如倒垃圾，或者等待机器完成——花一分钟还是三分钟真的没关系。你总是可以在某个地方补上这额外的两分钟。如果你需要做一个任务 500 次，一分钟的任务会变成八个多小时，或者一个完整的工作日。三分钟的任务做五百次就是三个工作日。这是一个很大的区别。*

 *制作一个会议徽章充满了这些一到三分钟的任务。你需要将电路板去家族化。你需要焊接一个电池座。你需要安装挂绳。你需要复制一张 SD 卡。你需要装备徽章。所有这些，单独地和独立地，都没什么大不了的。综合起来，你可能会看到一个人工月的工作。你需要一些朋友或同事来完成这些小任务，我现在称之为“废话”。

### SD 卡

徽标、样本图像、一些演示视频和库存固件的备份副本都存储在 SD 卡上。这是一个很好的计划软件开发的方法，因为引导程序可以将十六进制文件从卡中闪存到微处理器中。但这意味着必须有人给这些 SD 卡编程。你如何克隆五百张 microSD 卡？

[![](../Images/f2e9ec771e85013190c07be4089ae69a.png)](https://hackaday.com/wp-content/uploads/2017/11/systor.jpg)

A vastly overpriced but exceptionally useful SD card cloner.

我们最终选择了这些东西中的一个。这是一个 1 到 15 SD 卡复制器，基本上是一个塞满了四个四槽 SD 卡插槽、一个控制面板和一个 FPGA 的微型塔。将待克隆的 SD 卡放入左上角的插槽中，用空白卡填充其他插槽，然后按一个按钮。

我们惊喜地发现，为每个徽章克隆 microSD 卡的速度如此之快。几周前，我们已经测试了克隆机，并得出了 14 分钟的运行时间来克隆 15 张卡。加上两分钟换出每张卡的时间，这就是克隆 SD 卡的一个完整工作日。这是一个相当先进的 SD 卡克隆程序，不过，这个实验是复制卡上的每一个块*。由于我们只复制了几兆字节的图形和视频，主 SD 卡的*实际*克隆要快得多。*

### 代码完成

正如你所料，2017 年 Supercon 徽章的固件开发一直持续到最后一刻。我们在周二早上发现睡眠功能不起作用。当微控制器进入睡眠时，电源引脚悬空，开关电源调节产生的过多噪声使其重新开启。

[Mike]通过在开关的使能线上使用 PWM 来释放足够的存储功率以将其完全关闭，从而在软件中修复了这一问题。在引导程序菜单中也有一个错误映射的 pin 被修复。这些变化意味着我们需要刷新所有的徽章——但我们无论如何都要用最终的固件版本来完成。周三晚上，就在我们必须开始准备装备的几个小时前，[迈克·哈里森][把徽章变成了示波器](https://www.youtube.com/watch?v=kDc00hYWG5I&feature=youtu.be)。

### 装备

很少有任务可以并行化。你不能平行设计徽章，我甚至不知道那会是什么样子。是不是一个人设计电源，一个人为 I2C 总线做上拉电阻，另一个人做机械设计，把所有东西都拼在一起，希望最终出现一个工作电路？这没用。

装备是构建该徽章的极少数可并行任务之一。这从 1000 节 AA 电池开始，这些电池需要从 4 包塑料收缩包装和 10 个纸箱中取出。将 200 个电池排成一排，每次 20 个，用美工刀在塑料上刻痕，你可以用双手在大约一秒钟内一次打开 8 个电池。

[![](../Images/03242d929755ebd66e83d9fe080d988d.png)](https://hackaday.com/wp-content/uploads/2017/11/badges.jpg)

[Mike Harrison] and [Sophi] stuffing SD cards and batteries into badges

[![](../Images/0450c2c83de8e65a92b5f2ef4a378c16.png)](https://hackaday.com/wp-content/uploads/2017/11/batteries.jpg)

Batteries weigh *a lot*. The good news is Amazon Prime gave us free shipping for one hundred pounds of AA cells.

Macrofab 运送徽章时，每个徽章都密封在防静电袋中，将四个徽章放在一起，用气泡膜包装。我们打开箱子，打开包装，打开袋子，把每一个放在桌子上。插入 SD 卡，然后是电池，然后将它们滑动到同时使用四个编程器的[Mike]手中，同时还有[活页夹](https://en.wikipedia.org/wiki/Binder_clip)在大约 10 秒的编程期间按住徽章电源按钮。不要担心，我们做了一个视频，在我们已经做了大约 160 个徽章之后开始。这不是[Mike]的第一次竞技表演，他的指导使这一切变得可行——每单位浪费一秒钟的时间，加起来几乎要多花 10 分钟。

 [https://www.youtube.com/embed/zOc79ERzj0s?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/zOc79ERzj0s?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)

T2】

### 外卖

理论上，设计和制造徽章很容易。你只需要打开 Eagle 或 KiCad 的副本，把一些电线推来推去，然后把电路板送到合同制造商那里。在实践中，即使是“简单”的做事方式也非常困难。供应链管理是一种技能，能够*计划*一个设计和做设计的实际*设计*一样重要。瀑布日历图表是你的朋友。

尽管如此，我们还是完成了我们的徽章，出了门。是的，一路上有一些问题，但那只是我们头上多了两三根白头发。

如果你想得到这些可爱的徽章中的一个，就在它们都没了之前去 Tindie 吧。*