# 在所有事物中创建 PCB:Eagle，第 2 部分

> 原文:[https://hackaday.com/2016/09/23/making-a-pcb-eagle-part-2/](https://hackaday.com/2016/09/23/making-a-pcb-eagle-part-2/)

在本系列的最后一篇(也是第一篇)文章中，我们看了看 Eagle。具体来说，我们学习了如何在 Eagle 中创建自定义零件。我们的目标不仅仅是在 Eagle 制造我们自己的零件，我们还想制作原理图、电路板，并最终焊接一些 PCB。

我们将制作的电路板，就像在[中制作的所有电路板一样*在*系列](http://hackaday.com/?p=219469&preview=true)中制作 PCB，是 Nanite Wesley，一个基于 ATtiny85 的小型 USB 开发平台。这块板有不到十几个零件，大部分是通孔。这是我能想象到的最简单的 PCB，其复杂性足以演示如何制作电路板。

说完这些，让我们进入 Eagle 教程的第二部分，布置电路板。

### Eagle 工作流程

尽管在 Eagle 中制作 PCB 的指南是从制作一个零件开始的，但这显然不是通常的工作流程。数百个你能想象到的零件库已经存在，包括神奇的 [Sparkfun 库](https://github.com/sparkfun/SparkFun-Eagle-Libraries)、 [Adafruit 库](https://github.com/adafruit/Adafruit-Eagle-Library)、[危险原型库](https://github.com/Sns22/Eagle_PCB_Libraries/tree/master/Dangerous-Prototypes-library)和 [Seeed 为 Eagle 开放的零件库](https://github.com/Seeed-Studio/OPL_Eagle_Library)。在这些图书馆，或者互联网上的其他地方，你可以找到你可能需要的每一个零件。

如何在 Eagle 中创建电路板的概述是**首先创建一个原理图**。该原理图将包含您将在项目中使用的所有部件以及这些部件之间的所有连接。原理图完成后，我们**然后创建电路板。**电路板是 PCB 的物理表示，包括零件、焊盘和走线。这个电路板文件可以发送到任何一个常见的板房(OSHpark、Seeed 或 DirtyPCBs)，在一两周内，一堆印刷电路板就会到达你的邮箱。

### 入门指南

[![](../Images/173ce965126d6a7e88d2384920e70c7d.png)](https://hackaday.com/wp-content/uploads/2016/08/eaglenewschematic.png)

To create a schematic, open Eagle, and select File -> New -> Schematic

[![](../Images/0c1e835fd6edb4b6649adab9e88a2e67.png)](https://hackaday.com/wp-content/uploads/2016/08/schematic2.png)

The schematic view of Eagle

要在 Eagle 中创建原理图，请在 Eagle 控制面板中选择文件->新建->原理图。弹出原理图窗口。这是你制作电路的地方。在我看来，Eagle 的工具栏按钮从第 7 版开始就发生了变化，甚至变得更糟，但这里有一个你需要了解的按钮概述:

![Addapart](../Images/2af0291d665e80fb0665856052678300.png)“添加零件”按钮。这是您浏览和搜索零件库的方式。

![Trashcan](../Images/dce476364ade044ec689c32825c775e9.png)‘删除’按钮。不言自明。

![Move](../Images/4ea4d7554e23c6561dd8048d4024effd.png)“移动”工具。也不言自明。

![BusConnection](../Images/127b84325d3cbc51463f31b26b75a2be.png)“绘制总线”(蓝色)和“绘制电气连接”(绿色)按钮。对于这个项目，我们将只使用“电气连接”工具来绘制不同组件之间的连接。“总线”工具有效地做同样的事情，但是允许你将相似的电气连接组合在一起(如在 CPU 和 RAM 之间的数据或地址线中)。暂时忽略蓝色按钮。

![Name](../Images/011c0f84e583c82adbad49e686aee452.png)“命名”工具。这允许您为单个组件*或电气连接指定一个名称。*在你制作的每块电路板中，你都要命名组件之间的每一个连接。

![Value](../Images/8f63733106556ef71441492fadfe533b.png)价值工具。此工具允许您为组件赋值。您的电路板可能会反复使用相同的电阻符号，但您无需为 22ω和 1kω电阻制作新符号。使用值工具，我们可以给同一个零件分配不同的值。

除了工具栏，还有一个额外的功能值得一提，但与这个项目并不相关。“工作表”窗口允许您将原理图分布在几个不同的页面上。这些页面最终都会进入同一个纸板，但有时将设计的各个部分分成不同的页面会很有帮助。例如，将电源/电池管理电路放在一张纸上，将微控制器的魔力放在另一张纸上。Eagle 的免费版本最多只支持两个工作表，这使得它的实用性受到质疑。当你进行更大的设计时，更多的工作表会很有帮助。

### 放下零件

这样一来，终于到了开始放下零件并将它们连接在一起的时候了。点击“添加零件”按钮，Eagle 思考一会儿后，会弹出一个巨大的窗口:

![Add a part](../Images/707b43633a019a88a5e2227ca9a295ce.png)

此窗口是您浏览和搜索所有库的方式。Eagle 已经提供了一些库，但是要真正获得最佳效果，您需要在 Eagle/lib 目录中下载并安装 Sparkfun 和 Adafruit 库。

现在是时候开始放置零件了。在这种情况下，我将从微控制器开始，如果您已经正确地[构建了您的部件](http://wp.me/pk3lN-V78)，只需在搜索框中键入“ATtiny85”并按 enter 键。选择零件，并将其放在原理图上。对于该板，我们还需要一些器件来完成电路:

*   (2)四针通孔接头
*   (2)通孔齐纳二极管
*   (4)通孔 1/4 瓦电阻器
*   (1)陶瓷电容器
*   1 个 3 毫米 LED
*   (1)轻触开关
*   1 个微型 USB 端口
*   地面和 VCC 轨道的几种符号。

所有这些部分都可以在 Sparkfun 库中找到。当我们找到并放下原理图上的所有零件时，我们将得到如下结果:

![sch2](../Images/b01552022311f0eb43a677a8ba143941.png)

我们已经知道这个示意图应该是什么样子；我们只是复制我们用于所有这些制作*PCB*导轨的原理图。首先，用符号表示阿蒂尼、电容器、VCC 和 GND，并像这样排列它们。使用“进行电气连接”按钮将线路从插脚中拉出。

![The Label tool](../Images/a4da264dfebd923d81ec642113ae2b09.png)

The Label tool

现在是 Eagle 中最强大的工具的时候了。点击*名称*按钮，为微控制器上的每一个电气连接指定一个名称。同样，我们只是简单地[复制这个示意图](https://hackaday.com/wp-content/uploads/2016/08/thingpcbsch.png)。将电气连接命名为 PB0、PB1、PB2、PB3、PB4 和 NRES，就像示意图中一样。完成后，使用*标签*工具给这些电气连接贴上标签。完成后，我们的原理图就有了惊人的大部分:

![MicroComplete](../Images/1f6dc530f9d92b69b39f38a6c18abbd7.png)

由于此示意性建筑练习的其余部分只是简单地复制参考设计，同时应用先前使用的技术，请执行此操作。当你完成后，你会得到类似下图的东西。不要忘记使用*值*工具给电容器、二极管和电阻器赋值。

![The completed schematic](../Images/d9124a075a8a89eaa22beb615803fc7e.png)

The completed schematic

完成原理图后，是时候进入制作 PCB 的*酷*部分了:布置电路板。

### 设计电路板

原理图完成后，我们就可以制作电路板了。为此，只需保存您的原理图，并从文件菜单中选择*切换至电路板。* Eagle 将询问您是否愿意根据原理图创建电路板。单击 yes，您将看到弹出如下内容:

![Board1](../Images/d243bdde0ed812893da0a2a54f675e7a.png)

是啊，这是相当混乱，但这一切都有道理。我们来分析一下这是怎么回事。

Eagle 的每个部分都由两种截然不同的表现形式组成:包装和符号。这个符号是我们用来创建示意图的。封装是器件的物理表示，也是我们创建电路板时所使用的。那些带绿色圆圈的矩形是每个部件的封装，绿色圆圈是焊盘——穿过阻焊膜伸出来的小块金属，我们将焊料涂在上面。您可能会注意到 USB 端口是红色的，这是因为它是表面贴装(SMD)器件，没有贯穿 PCB 的孔。红色表示我们将 SMD 部件焊接到电路板的顶部的位置。如果 USB 端口是蓝色的，我们会把它焊接到电路板的*底部*。

每个焊盘之间的细黄线是*空气线*，代表电连接应该去哪里。当我们开始绘制迹线时，我们将通过跟随空气线将焊盘连接在一起。

现在，先不说术语，让我们开始设计电路板。以下是我们创建评估板所需的工具:

![Line Tool](../Images/17b3ccafef5c9b8500454700000f8c0f.png)这是*线*工具。我们用这个来创建电路板的轮廓。我们不使用它来绘制零件之间的连接——该工具仅用于规划电路板的轮廓。

![Route Tool](../Images/32595dad744f758df8c21705c690a03a.png)这是*路线*工具。我们在焊盘之间进行电连接时使用这个。

这是*撕裂*工具。我们用这个来清除已经留下的痕迹。

这是*多边形*工具。当我们想要填充整个区域时，我们使用这个工具。如果你希望你的纸板是全白色的，用丝印层覆盖整个纸板。我敢肯定，板房讨厌这样，虽然它看起来很酷。

![Layers](../Images/4e2c496d7aa121f6190378d144a6b89e.png)使用线条或布线工具时，我们可以选择仅在电路板的顶部铜层、底部铜层、丝印层上绘图，甚至在电路板的特定层上绘制*负空间*。层下拉菜单是我们如何选择我们的路线或绘制层。

我们将使用的其他工具是移动和删除工具。让我们首先在铣削层中绘制电路板的轮廓。使用线条工具在铣削层上绘制一个矩形。然后开始将零件放在参考板上。完成后，您会得到类似这样的结果:

![It may look like a mess, but we're almost done](../Images/11c2e1f4c6a7de1cb201a91575cfcb1e.png)

It may look like a mess, but we’re almost done

### 绘图信号

目前，我们将忽略 VCC 和 GND。我们只关心非电源或接地部分之间的信号路由。点击 *Route* 工具，我们可以开始铺设轨迹。我们将开始在铜的顶层，或者用 Eagle 的术语来说，红色层上铺设迹线。

[![Attempt no. 1 at routing a board.](../Images/59b846cc6d03e30aad8f32cd3a61b332.png)](https://hackaday.com/wp-content/uploads/2016/08/attempt1.png)

Attempt no. 1 at routing a board.

右边是我们对电路板布线的第一次尝试。这很好，但仍有一些无线线路需要连接，但布线会有点困难。让我们画一个*多边形*并做一个所谓的*倒铜*，而不是单独为每个引脚布线。这是一个与信号、VCC 或 GND 电连接的铜质区域。在这种情况下，我们将在电路板的顶层进行铜浇注，并将其连接到 GND。在这种情况下，这是一个好主意，因为 USB 连接器上的大焊盘电连接到 GND。要做到这一点，只需点击*多边形*按钮，并使用纸板轮廓作为指导来绘制倒酒。*将这个多边形命名为*GND，并点击确定。什么都没发生。

[![Polygon](../Images/60cb8d9d473b240be0398a2795445e7e.png)T2】](https://hackaday.com/wp-content/uploads/2016/08/polygon.png)

[![This is Eagle's 'redraw' button](../Images/ab99d7f0091e38360dc47f91d53638fc.png)](https://hackaday.com/wp-content/uploads/2016/08/airwires.png)

This is Eagle’s ‘redraw’ button

所有这些 GND 引脚连接在一起的铜浇注，但鹰没有显示出来。我们需要强制 Eagle 显示这些变化，我们通过工具栏上的一个按钮来实现。这个按钮的标签是“计算最短的无线线路”，图标没有什么意义。

完成后，我们可以创建另一个铜倒在底部铜层，命名为 VCC。接下来，我们只需在底部铜层上画一两条走线，将其余焊盘连接在一起，这样就完成了电路板，可以送往 OSHpark、Seeed Studio 或 DirtyPCBs。

[![CompletedBoard](../Images/16f2651523ae3141c656b901e5920fa4.png)T2】](https://hackaday.com/wp-content/uploads/2016/08/completedboard.png)

### 过孔

![via](../Images/8c244df18d9ee1d6886120a3470669f9.png)

An unrouted connection on the USB connector

如果你非常聪明，或者只是跟着做，在你阅读的时候制作这个板，你会注意到一个严重的疏忽:

USB 端口上的一个引脚不连接任何东西——有一个很小的无线线路将该引脚连接到最近的连接 VCC 的 pad，告诉你这是你需要路由的东西。天真的做法是在所有组件周围布线，但这是愚蠢的，我们将在 Fritzing 教程中讨论。将此引脚连接到 VCC 的更简单的方法是在电路板上钻一个孔。

![via3](../Images/c6c751c157c57573ec4f4bb774bda0d3.png)

A pad routed to the bottom layer through a via

这是一个通道。这是一个洞，或垫，钻通董事会的权利。这个孔的内部要么是电镀的，要么衬有铜套圈(非常奇怪，非常罕见)，并连接到电路板顶层、底层或内层的走线。如果你想发送走线到电路板的另一层，你需要一个过孔。

要在电路板上设置通孔，只需在不碍事的地方画一条轨迹，然后点击鼠标中键。这将更改您正在绘制追踪的图层。第二层画一点点，放开。一个痕迹会自动出现。

板子打好了。保存所有内容，我们就完成了电路板的创建。还有更多的事情要做，在下一期(也是最后一期)制作 PCB 系列的[T3 的老鹰部分，我们将把这块电路板送到晶圆厂。这意味着设计规则检查(DRC)，创建 Gerbers，检查 Gerbers，以及快速浏览我最喜欢的 Eagle 部分，将自定义艺术放在板上。](http://wp.me/pk3lN-V5P)

和往常一样，如果你对这篇文章有任何反馈，或者对*制作 PCB* 系列有任何反馈，请在评论中留下。