# 可爱的 USART 技巧将 PWM 引入红外 led

> 原文:[https://hack aday . com/2016/07/08/cute-usart-trick-brings-PWM-to-IR-LEDs/](https://hackaday.com/2016/07/08/cute-usart-trick-brings-pwm-to-ir-leds/)

我们喜欢这样的小把戏。假设你想产生一个红外遥控器的信号。很简单，因为大部分代码都是已知的。但这可能会稍微困难一些，因为大多数红外遥控器和接收器用大约 38 kHz 的方波调制 on 脉冲，以实现背景照明抗扰度。

借助微控制器上的 PWM 发生器，您可以轻松创建载波调制。将 PWM 频率设置为 38 kHz，占空比在 33%-50%的范围内，就可以了。但是，如果你没有一个称职的 PWM 发生器呢？这种情况促使[易观博客]用 USART 伪造它。

诀窍是这样的。您设置串行端口，以所需载波频率的十倍进行通信，然后传输“特殊”数据。(数字 10 来自 8 位数据加上一个开始位和一个停止位。)如果您想要 50%的占空比，您只需以微控制器允许的最快速度发送`0b11110000`，以获得一个标记，而空白则不发送。

如果像大多数人一样，您的 USART 处于高电平空闲状态，那么反转信号需要一些额外的细节。但真的就这样了。当你绝望到需要它的时候，这是一个可爱的把戏。如果你想进一步提高你的异步串行技能，请查看我们的关于 USART 故障排除的[指南，以及随后的精彩评论。](http://hackaday.com/2016/06/22/what-could-go-wrong-asynchronous-serial-edition/)