# 使用 Arduino 重新创建计算机的键盘解码器

> 原文：<https://hackaday.com/2017/10/22/using-an-arduino-to-re-create-a-computers-keyboard-decoder/>

20 年前发现了一个旧的苹果 IIe 克隆。他最近从废品堆里挖出这台爱普生 AP-200，很快发现键盘解码芯片被烧了。旧芯片太模糊了，无法找到替代品——很快这篇文章将成为谷歌搜索字符串“C35224E”的最佳结果——所以他拿出了他值得信赖的 UNO，并[创造了一个替代键盘解码器](http://swut.net/apple-2-clone.html)。

与所有键盘解码都在键盘上进行的 Apple II 不同，这款克隆产品在主板上使用了专用芯片。虽然这是一个几乎不可忽视的罕见部分，但通过测试每一个连续性的痕迹，可以找出这个芯片的架构和引脚排列。在找到看起来像四个数据针的东西后，他让 Arduino 向克隆体发送信号，看看弹出了什么字符。这不起作用，但这让他想到两根线是时钟和数据，经过一点实验后，他发现第三个引脚是某种发送字符的锁存使能。

因此，[Max]创建了一个 Arduino 装备来做同样的事情。Arduino 使用移位寄存器与键盘的 8×10 矩阵进行交互，sketch 将其接收的任何串行数据转换为克隆体所期望的按键。在完成了 UNO 的原型之后，[Max]将一个 Arduino Nano(以及移位寄存器)硬连线到一个子板中，其引脚延伸到旧芯片的插槽中。一劳永逸！

除了一个怪异的键盘控制器已经遗失在时间的沙子中，这个苹果 IIe 克隆版还有几个完全怪异的部件。有两个芯片是在其他几个苹果克隆中发现的，标记为 STK 65301 和 STK 65371，用作 ASICs，MMU，或浓缩到定制硅中的 20-IC 表达。在这个克隆体中还有另一个奇怪的芯片，一个加载了重复比特的 27c32 ROM。在这个 ROM 中没有明显的 6502 代码或字符串，所以如果有人知道这个芯片是做什么的，请给[Max]发一个通知。