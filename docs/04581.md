# 数字广播无线电系统剖析

> 原文:[https://hack aday . com/2017/01/09/anatomy-of-a-digital-broadcast-radio-system/](https://hackaday.com/2017/01/09/anatomy-of-a-digital-broadcast-radio-system/)

圣诞节后几天，当一位业余作家与一位大学时代的老朋友喝一两杯啤酒时，她会做什么呢？这位老朋友已经在数字广播的技术方面取得了成就。向他请教有关传输方案的问题，并把它们都写下来，因为在消费者闪亮的数字收音机背后，隐藏着大量有趣的技术，试图从可用资源中获取最大收益。

在英国，我们的数字广播电台使用一种称为 DAB 的系统进行数字音频广播。世界各地使用的数字广播标准多种多样，公平地说，作为较早的标准之一，DAB 不一定是当今市场上最好的标准。除此之外，从它的传输方案中，以及从它的一些缺点在后来的标准中是如何被解决的，还有很多要学习的。

## 渠道和容量

[![The spectrum of a wideband FM broadcast transmission, on 93.9 MHz.](../Images/856cf7c0d203e9a1da0501d4e401e2ea.png)](https://hackaday.com/wp-content/uploads/2016/12/fm-spectrum.jpg)

The spectrum of a wideband FM broadcast transmission, on 93.9 MHz.

你们都将习惯于调幅和调频的模拟广播，其中每个电台都有自己的发射机，占用自己的频率。在像 DAB 这样的数字系统中，每个发射机并不局限于一个电台，而是以多路复用的方式同时发射多个电台。每个多路传输的数据速率略低于 1.2 兆比特/秒，这实际上允许它携带大约 10 个 MP2 压缩站，这取决于每个单独站的数据速率。很难对多路复用器的通道容量给出一个精确的数字，因为每个通道不仅可以使用不同的采样速率，而且这些速率可以随时改变。

[![dab_logo-svg](../Images/2cf785c336c25ca0c0de27ed7a0b016b.png)](https://hackaday.com/wp-content/uploads/2016/12/dab_logo-svg.png) 英国的多路传输是在 200 MHz 左右的老式英国 405 线电视频道的上层曾经占用的频谱中进行的。然而，它们并不像传统的模拟电台或电视台那样被调制到射频载波上。为了理解为什么会这样，想象一下，你有一个 1.2 兆位/秒的串行端口。如果将数据流输入模拟发射机上的传统调制器，发射带宽将略高于 1.5 MHz。在一个理想的自由空间环境中，这将成为一个相当不错的广播系统，但要想知道为什么它在现实世界中不起作用，只需想一想用不合适的天线观看模拟电视。

## 多路

[![Our ultra-high-budget simulation of analogue TV ghosting.](../Images/51d8f074377aef52df1acf6c32ae0274.png)](https://hackaday.com/wp-content/uploads/2016/12/hackaday_logo-with-ghosting.jpg)

Our ultra-high-budget simulation of analogue TV ghosting.

在模拟时代，有时在你的电视上你会看到第二个“幽灵”图像，一个主图像的模糊克隆覆盖在它的右边。这是发射信号通过多条路径到达接收天线的结果，主图像是通过直接路径，而“幻影”图像是通过物体(如高楼或经过的飞机)的反射路径。屏幕上实像和幻影之间的距离代表了这两条电波路径之间的时差。

现在再想象一下高速数字数据流，只不过不是在理想的自由空间中，而是把它放在有过往飞机和所有鬼影的现实世界中。与单个数据比特的长度相比，真实流和其重影之间的时间差现在非常显著，因此将重影覆盖在原始流上具有在接收的数据流中引起巨大误差的效果。显然，需要采取一些手段来解决这个问题。

## 许多小通道

答案是增加数据流比特的长度，使得虚反射时间差相对于它不再重要。简单地延长数据流的数据比特会将数据速率降低到无用的程度，因此它们改为将一个单个的高数据速率流分成许多具有更长比特长度的单独的低数据速率流。

[![Part of the spectrum of a DAB transmission, at 210.9 MHz. The individual carriers can clearly be seen.](../Images/d05e4efa609fcaa612bb5b875f55705d.png)](https://hackaday.com/wp-content/uploads/2016/12/dab-spectrum.jpg)

Part of the spectrum of a DAB transmission, at 210.9 MHz. The individual carriers can clearly be seen.

带宽超过 1.5 MHz 的单个载波会变成 1500 多个单独的载波，每个载波的带宽为 1 KHz，并且每个载波的数据速率都足够低，因此重影不再是问题。整体数据速率是相同的，整体频谱带宽也是相同的。但是对重影的抵抗力已经大大提高了。它还具有提高抗典型窄带 RF 干扰能力的便利效果，因为一定数量的单个载波可能会丢失，而不会超出纠错补偿的能力。

以这种方式将流分成多个载波被称为 COFDM，即编码正交频域复用，并且由于每个载波由四个相隔 90 度的正交矢量进行相位调制，因此该调制方案被称为 DQPSK，用于差分正交相移键控。是的,[塞缪尔·莫尔斯]的基调在语言上的影响在数字广播中找到了出路。

## 听起来像泥巴

当然，DAB 和其他类似传输的 RF 端的性质只是故事的一半，还有压缩算法和纠错算法，它们定义了标准的真实特征。尤其是 DAB 在低信号条件下表现不佳，在这种情况下，信号可能会消失在被通俗地描述为“像沸腾的泥浆”的声音中。其他国家或者放弃了他们的 DAB 部署，或者直接采用更新的标准，例如 DAB+。这是英国人为自己的国家成为早期采用者所付出的代价。

那么，为什么 DAB 的表现比它的继任者差呢？据我的朋友说，当我们打开另一对被窗外寒冷的夜晚冷却的圣米格尔时，秘密不在于它使用 MP2 而不是 AAC，而是在错误编码方案中。DAB 的设计者试图制定标准，以便保护他们认为对接收到的音频的可懂度最重要的成分。因此，他们在错误编码方案中对某些频率进行了加权，这似乎是造成这一缺陷的原因，因为这使它在其他频率上更容易受到攻击。随着丢失的流的百分比上升，质量的下降变得更加急剧，以至于系统很快变得不可用。

在我们的职业生涯中，我们都获得了系统和技术方面的深入知识。我知道我的朋友在这一行工作，这是一个很好的机会来了解一个系统，我对这个系统有一个基本的了解，但不知道是什么让它运转起来。正是这种信息共享非常有价值，虽然我对 DAB 的新理解可能不会带来什么，但为了积累技术知识而积累技术知识是有很多好处的。如果你发现自己和一个很久以前的朋友在一起，一定要问他们的专业，你可能会学到一些有趣的东西。

DAB 电台头图:Yisris (CC BY-SA 2.0) via [维基百科 Commons](https://commons.wikimedia.org/wiki/File:DAB_Digital_Radio.jpg) 。