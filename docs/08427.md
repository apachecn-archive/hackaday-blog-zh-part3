# 开始了吗？感知我们周围的世界，从光开始

> 原文:[https://hack aday . com/2018/04/26/is-it-on-yet-sensing-the-world-around-us-starting-with-light/](https://hackaday.com/2018/04/26/is-it-on-yet-sensing-the-world-around-us-starting-with-light/)

Arduino 101 正在让一个 LED 闪烁。从那里你有一个控制选项的世界，从 MOSFETs 到继电器，螺线管和马达，各种输出。这里，我们将快速查看一些输入。在从事最近的一个项目时，我意识到在感知灯是亮还是灭这样简单的事情上有多种选择。对于任何对世界作出反应的系统来说，这都是一项基本任务；可能是一个检测洗衣机何时完成并发送短信的传感器，或者是一个随着太阳开合的自动化鸡舍，或者是一个通知姐妹进入你神圣空间的光束中断。这些是你可以用来感知周围光线的一些工具。

## 光敏电阻

[![](../Images/4baff7cc25a9ac2fc5f1369d5f9ac6e3.png)T2】](https://hackaday.com/wp-content/uploads/2018/04/photoresistor1-themed.jpg)

也叫光敏电阻(LDR)光敏电阻，正如它听起来的那样；暴露在光线下电阻会改变的电阻器。这可能是最容易使用和最难打破的，所以它非常适合初学者。它(通常)由硫化镉制成，电阻从黑暗中的几十万欧姆变化到光明中的几百欧姆。

连接一个就像创建一个基本的分压电路一样简单。然后，您可以在引脚上进行模拟读取，观察亮度变化时数值的变化。该选项非常适合简单的电路，在这些电路中，您试图检测可见光或红外光的存在，但它的反应非常慢(数百毫秒)，因此不适合数据传输。

## 光电二极管

![](../Images/9be36a57eec3dbc6345e42657031f98c.png)

Any diode can act like a photodiode. Here a lamp is generating 182mV in a regular LED.

光电二极管，也有恰当的名称，是一种随着光量的变化而改变通过它的电流量的二极管。它有两种不同的用法。最简单的一种是光伏模式，光电二极管暴露在光线下，光子的能量激发电子产生电压，您可以通过测量来感知光线水平，或者像太阳能电池一样收集。另一种是光电导模式，二极管反向偏置。无需深入了解确切的物理原理，这种模式具有更快的响应时间，使其更适用于使用光(如红外接收器)的数据传输。

所有的二极管在某种程度上都是光电二极管；有些只是屏蔽得更好。许多远程控制传感器上有一个过滤器，只允许窄带光通过。即使是 LED 也可以反向工作，尽管不是很好。高度的可变性使得它不太适合生产或大型应用程序，但是对于一次性的应用程序来说，它非常灵活。几年前，我们讨论过将 led 作为光传感器的想法。我们还看到，在树莓 Pi 2 中，当暴露在强光下时，一个特殊的[二极管会重置 pi](https://hackaday.com/2015/02/08/photonic-reset-of-the-raspberry-pi-2/) 。

## 光电晶体管

如果光电二极管将光转化为电流，那么下一步就很容易了。晶体管利用基极的电流量来控制集电极和发射极之间的电流。将两者放在一起，你就有了作为基极来控制晶体管的光电二极管。光电晶体管可以是有源的，其中光量改变晶体管中的电流量，或者是开关的，其中存在阈值，高于该阈值晶体管导通，低于该阈值晶体管关断。

光电晶体管用于遥控接收器，因为它们速度快，易于使用，并且可以滤除除非常窄的光频率范围之外的所有光。从技术上来说，光电二极管速度更快，但两者都适合红外接收器，光电晶体管具有额外的增益优势，这意味着它可以实现更长的范围。消费者红外信号通常工作在 36 kHz 至 40 kHz 的载波频率上，光电晶体管的开关频率高达数百 kHz，非常适合这种应用。在这个基本示例中，一个 IR LED 连接到一个微控制器，一个光电晶体管连接到一个单独的微控制器，两者之间只有空气。有多种库可用于通信，但从电子学的角度来看，这是基本电路。

## 光隔离器

![DIY Optoisolator](../Images/f9d63ffe325fca5b73eb5a5d34fc64e1.png)也称为光耦合器，这是一种将光源和光传感器结合到单个封装中的智能设备。如果你熟悉[接地回路](https://hackaday.com/2017/03/09/wtf-are-ground-loops/)，你就会知道拥有两个电气连接的独立系统是多么痛苦。有时候，将两者隔离开来真的很好，但仍然允许他们互相交谈。这是通过光隔离器实现的，它内部有一个 LED 和一个光电晶体管或光电二极管。一个系统为 LED 供电，另一个系统监控光电晶体管。

如果你有一个可以接入的高压系统，但又不想冒险把你的 Arduino 连接到它来监控状态，那么这些就非常方便了。根据应用，这些可以是数字的(开/关)和模拟的(数值范围)。通过将 LED 和光敏电阻或光电二极管或光电晶体管组合在一个不透光的外壳内，您可以轻松制作自己的光耦合器。电路和之前的电路一模一样。

## 光伏电池

你在你的计算器和屋顶上见过它们。这些将光子转化为电子，产生一个小电压。它与光伏模式下的光电二极管相同，因为这正是它的本质。唯一的区别是表面积。对于计算器来说，一个小的表面积就足以为计算器供电(或者为电容器或电池充电，以满足短时间的需求)。通过感应电池上的电压，就有可能检测到光照水平。您的室外光传感器可以只包括一个光伏电池，ESP8266 和电池！

如果你所做的只是感测一个通常有电的设备的亮度，那么这个解决方案就太过了。最好是保留光伏电池发电，使用其他传感器探测光线。当然，[我们不会说你不能用它们来传输低质量音频](https://hackaday.com/2018/04/06/chiptunes-on-a-solar-panel/)。

## 颜色传感器

仅仅检测光的存在有时是不够的。有时候你需要知道光是什么颜色。如果你在寻找一个特定的频率，你可以拿一个光敏电阻，用彩色凝胶覆盖它，称之为“大部分好”(白光除外，它包含所有的频率)。这种单像素相机最适合分拣 [M & Ms 和彩虹糖](https://hackaday.com/2017/02/06/mms-and-skittles-sorting-machine-is-both-entertainment-and-utility/)之类的东西，通常出现在装配线或其他分拣工具上。有两种方法可以制造颜色传感器。第一种是单个光电二极管和 RGB LEDs。打开红色，捕捉光电二极管值，切换到绿色并捕捉该值，切换到蓝色并捕捉该值。红色物体将具有高的红色光电二极管值和低的其他值。然而，这种扫描方法速度较慢，因此另一种方法是使用三个光电二极管和一个白光，并在每个光电二极管上安装彩色滤光片。这样，可以同时读取所有三种颜色的读数。光电二极管对光谱的不同部分会有不同的响应，因此在读取后进行一些校准是必要的。

![](../Images/4cb066de5f37d1b58d6119ee6f5a57c1.png)

这是颜色传感器 Rohm 的 BH1745NUC)的典型应用电路。它有 4 个光电二极管，其中三个在红色、绿色和蓝色滤光片后面。然后，这些信号通过 ADC 馈入，并通过 I2C 接口提供给微控制器。大多数颜色传感器这样做是因为它们处理封装内的颜色校准。

## 电荷耦合器件

到目前为止，我们已经有了光敏电阻、二极管和晶体管。电容怎么样？电荷耦合器件(CCD)是你相机中捕捉图像的东西，或者是你扫描仪上的线。它由微小像素阵列组成，每个像素都有一个微小的光敏电容。当光线照射到它时，储存的电荷就会积累起来，产生电压。然后，一系列移位寄存器扫描电容器阵列并测量电压电平，该电压电平对应于每个像素的光电平。阵列越大，像素越密集，相机的分辨率就越高。

如果你想捕捉彩色图像，你有两个选择。第一种是用一台黑白相机，然后让你的拍摄对象沐浴在红光中并拍照，沐浴在绿光中并拍照，沐浴在蓝光中并拍照，然后将这三幅图像合二为一，每幅图像代表一个不同的通道。另一种选择是获得一个三倍传感器的 CCD，每个传感器覆盖一个彩色滤光片，并拍摄一张照片。我们已经更详细地介绍了 CCD 背后的[技术，但要点是你用它们来捕捉图像。](https://hackaday.com/2017/02/07/the-megapixel-race-and-its-clear-winner/)

## 哪个适合你？

当然，这完全取决于你的应用。要检测简单的亮度，请使用光敏电阻。它们超级简单、便宜、坚固。如果您需要更快的信号传输，请升级到光电晶体管，它没有光电二极管那么快，但额外的增益使其更容易集成到您的项目中。为了将您的电子设备与其他电子设备分开，请使用光隔离器。如果你需要做面部识别来识别你的狗，让它通过狗门，使用 CCD，并给我们一个提示，当你完成了这个项目。如果你使用一个大的二维光敏电阻阵列来制作一个非常慢的低分辨率相机，那将是加分的。