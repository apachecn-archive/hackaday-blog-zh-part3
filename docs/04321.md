# 当你把我的 LM386s 从我冰冷的手里撬出来的时候，你就可以拥有它们了

> 原文:[https://hackaday . com/2016/12/07/you-can-have-my-lm 386s-when-you-pry-them-from-my-cold-dead-hands/](https://hackaday.com/2016/12/07/you-can-have-my-lm386s-when-you-pry-them-from-my-cold-dead-hands/)

每个人都有一个羞耻芯片:它是你知道是次优的部分，但你仍然继续使用它，因为它工作得足够好。也许这不是你要在设计中投入的东西，但对于一个快速而肮脏的 lashup 来说，这只是一张入场券。对于 Hackaday 的 Adam Fabio 来说，这个芯片就是 T2 的 TIP120 晶体管 T3。说实话，我们有不止一个芯片的耻辱，但音频放大的目的，它的 LM386。

LM386 是一种旧设计，需要一些支持性无源元件来获得最佳性能，但它基本上是坚固的。它不是无噪声的，不能在 3.3 V 下运行，但如果你可以在你的项目中安装 9 V 电池，并且需要从扬声器中发出适量的声音，我们将向你展示如何用 LM386 完成这项工作。

## 停留在过去

如果你想要更低的电压，现在有很多更好的音频放大器芯片。手机和锂离子电池，以及小发明全面降低电压的整体趋势，促使芯片制造商用越来越少的资源做越来越多的事情。有些出色的放大器芯片采用 3.3 V 和 5 V 电源，而不是 9 V 或 12 V 电源。

[![These Guys Used To Walk the Earth Too via Nat'l Geo](../Images/7fefae36672b36749c4ca0ed65fecc98.png)](https://hackaday.com/wp-content/uploads/2016/11/dinosaur.jpg)

These Guys Used To Walk the Earth Too [via Nat’l Geo](http://ngm.nationalgeographic.com/2007/12/bizarre-dinosaurs/updike-text.html)

特别是，有许多芯片运行在“桥接负载”模式下，这意味着它驱动扬声器的两侧，这使得它在给定电压下声音更大，并且在设计中不再需要大输出电容。这是一场全面的胜利。

由于这些放大器面向微型器件，绝大多数采用表面贴装技术(SMT)封装。除了使散热有点困难之外，我们是更小部件的大粉丝，不必在自制的 PCB 上钻孔。如果你没有被 SMT 打倒，你必须尽快赶上。例如，我们最喜欢的另一款 DIP 芯片放大器 TDA7052 已经停产。

因此，对于 SMT PCB 设计而言，LM386 已经过时。有数百个几百毫瓦的放大器可以超越它。例如，我们用 TPA321D 进行设计，它环绕 LM386 运行，但它是 SMT。也许你想在评论中指出你最喜欢的米粒大小、几百毫瓦、8 欧姆的扬声器放大器？有人想从我们手里买一支 LM386s 吗？

## 好的基本设计

开个玩笑！LM386 有它的位置——在试验板上，在一次性的电路板电路中，甚至是自由成形的，在半空中悬挂着一些器件。作为 DIP 格式放大器的鼻祖，它不会消失。与其他据称更高级的放大器芯片相比，LM386 仍然是在(谁知道呢？！)多少年了。原因不仅仅是外形。这也是一个非常坚实的设计。

[![crossover_distortion_bg](../Images/9b43ae43be65c546688cca1ec82cc4dd.png)](https://hackaday.com/wp-content/uploads/2016/11/crossover_distortion_bg1.png)

[By Rohitbd](https://commons.wikimedia.org/w/index.php?curid=1236963) CC BY-SA 3.0

其实就是经典的[推挽](http://www.ecircuitcenter.com/Circuits/pushpull/pushpull.htm)放大器。基本设计使用两个输出晶体管，一个用于电压波形的正半部分，一个用于负半部分。基本设计的问题是[交叉失真](https://en.wikipedia.org/wiki/Crossover_distortion)，可以通过将晶体管偏置到它们的工作区域来减少，或者通过使用运算放大器来提供反馈并推动它们通过死区。LM386 两者兼而有之。

[![image006](../Images/dcef82724a57bf8b7616f3d228ca54d0.png)](https://hackaday.com/wp-content/uploads/2016/11/image006.png) 如果没有 LM386，你可以用一个非常好的运算放大器作为电压增益级，并在运算放大器的反馈环路中封装输出晶体管，以处理电流需求。运算放大器会疯狂地摆动输出晶体管，以确保输出电压是输入电压的放大版本，无论外部负载如何。您使用的运算放大器越好，整体电路听起来就越好。

[![lm386-annotated](../Images/b146d806a3d98c865d8850d02e5f45fe.png)](https://hackaday.com/wp-content/uploads/2016/11/lm386-annotated.png) 这正是 LM386 内部正在发生的事情。原理图复制自数据手册，是一个简单的差分放大器(左侧是一堆对称晶体管)，它从右侧上拉和下拉功率晶体管之间的输出电压获得反馈。二极管用来偏置晶体管*和*使其导通，以帮助最小化交叉失真。这被称为[A/B 类操作](http://www.electronics-tutorials.ws/amplifier/amplifier-classes.html)，根据问题中的音响发烧友，它的音质仅次于纯 A 类。

简而言之，除了简单的差分放大器之外，LM386 的内部本质上就是你要构建的东西。难怪它经受住了时间的考验:这是一个坚实的，基本的设计。可惜，那不等于说好用。

## 应用中的 LM386

[![lm386_min](../Images/0fd4b4fe9fa5f36dfef124223e163907.png)](https://hackaday.com/wp-content/uploads/2016/11/lm386_min.png)

This Will Sound Horrible

查看数据表中[的“典型应用”部分。少了什么？最大的遗漏是电源轨上的去耦，但无论如何你都要包括它，对吗？如果你用的是内阻低、电线短的电池，0.05 微法就可以了。否则，应使用至少 100 微法和一个 0.05–0.1 微法电容去耦，以提高抗扰度。](http://r.duckduckgo.com/l/?kh=-1&uddg=http%3A%2F%2Fwww.ti.com%2Flit%2Fds%2Fsymlink%2Flm386.pdf)

还缺什么？在几个例子中，它们在引脚 7 上包括一个“旁路”电容，但只是少数例子。即使他们添加了它，它也被绘制成可选的。如果你不介意放大器像疯猫一样发出嘶嘶声，它*是*可选的。否则，这是一些电容的好地方:从 0.1 到 10 微法的任何地方似乎是合理的。另一个秘密技巧:接地引脚 7 可用于在不使用时静音放大器电路。

我们还注意到，反相输入的噪声似乎比同相输入低，这种情况并不罕见。了解数据手册应用如何将反相输入(引脚 2)接地并将信号输入引脚 3？反其道而行之，你会进一步降低你的噪底。

[![lm386_bass_boost](../Images/1c070e652c3f67606195e5d44fb963b3.png)](https://hackaday.com/wp-content/uploads/2016/11/lm386_bass_boost.png)

Getting Closer…

附加电路被列为“带低音增强”。该电路在输出和引脚 1 之间增加了高通滤波(负)反馈，抑制了一些高频嘶嘶声，并增加了更多低音和中音。由于对 LM386 的一个常见抱怨是，它在空闲时容易产生高频嘶嘶声，因此将大约 5 dB 的中频信号添加到该噪声中是一个明显的胜利。它在通常与 LM386 电路配对的小型玩具扬声器上尤其受欢迎。

最后，还有输出端(引脚 5)的缓冲电容和电阻问题。在实践中，我们已经包括了一些时间，而不是其他时间。在本文中，我们用跳线搭建了一个测试板，将缓冲器接入和断开电路。我们看不出区别。据推测，如果放大器倾向于疯狂的自激振荡，这应该会抑制它。如果它对性能或可靠性没有帮助，数据手册作者不会添加它，我们只是无法验证这两者中的哪一个。

任何一个例子都不缺少绝对巨大的 250 微法输出电容。你需要它，如果你想让任何低音通过它，它需要很大。使用一个 8 欧姆的扬声器和一个 250 微法的电容器，你仍然会衰减一些低音:1/(2 *pi* 250 uF * 8 欧姆)= 80 Hz 已经降低了 3 dB，低音吉他上的低音 E 从那里再降低一个八度。那个小小的扬声器可能也帮不上忙。使用低音增强电路的任何低端。

**来回顾一下:**

*   更多的电源去耦:这个芯片可以推动峰值功率，你需要给它供电。
*   旁路引脚 7 以获得抗扰度。将其接地，使放大器静音。
*   使用反相输入。
*   使用低音增强。就当是减少嘶嘶声吧。
*   缓冲器。做你认为最好的事。有需要就改造？
*   不要忘记输出电容。贝西耶更大。

[![ruby](../Images/9e577762ccc106c3ac1d32e5e63780d3.png)](https://hackaday.com/wp-content/uploads/2016/11/ruby.png)

That’s the Right Way

我们在网上见过的最好的设计？9 V 电池[红宝石吉他放大器](http://www.runoffgroove.com/ruby.html)一切正常。因为吉他拾音器有一个非常低~~高[的输出阻抗](http://hackaday.com/2015/07/29/say-it-with-me-input-impedance/)，他们还增加了一个 JFET 前置放大器。我们也可以使用低音增强选项，但吉他手喜欢他们的高音和高音，似乎不介意嘶嘶声。~~

## 我们冰冷的双手

LM386 是一款设计精良的基本型工作母马，当它的蹄子保持干净并且营养充足时，它可以做得很好。以今天的标准来看，除了运算放大器级速度较慢之外，它的性能还不错。如果你忽视它，它听起来也会很可怕。

![dscf9057](../Images/98391db36e691e7b18939a411371cb73.png)因为它是经典产品之一，所以它总是以通孔 DIP 格式提供，所以很容易嵌入试验板或一次性设计中。你永远也不会担心它停产或成本远远超过一个季度。它在 9 V 电池供电下运行起来相当响亮，这非常方便，只需将它与为逻辑供电的 3 V 电池一起投入到您的项目中即可。将电源和逻辑电源分开总是一种胜利。

不过，这不是现代芯片。现代芯片内部的东西要多 X 倍。其中一部分是通过加速运算放大器来提高音频保真度。一些额外的电路有助于芯片保持稳定，即使支持部件更少。杀手级创新，也是让我们在任何实际设计的东西中使用现代芯片而不是简单捆绑在一起的创新，是以桥接负载模式驱动扬声器。BTL 意味着没有输出电容，启动时声音更大——声音足够大，功率放大器可能根本不需要更高的电压，尽管您仍然希望对电源进行良好的去耦。

我们并不是说 LM386 是有史以来最好的放大器:它可能有点嘈杂，而且要求很高。但是只要一点点小心，它会变好的。它绝对不是我们最喜欢的放大器芯片，但如果它消失了，我们会很想念它，它会让我们的荒岛 IC 名单不同于同代的其他器件，如 LM741 运算放大器或 TIP120 晶体管——它们很旧，但 LM386 是一款经典产品。