# 你和 MPPT 在一起吗？(是啊，你了解我。)

> 原文:[https://hack aday . com/2017/03/17/are-you-down-with-MPPT-yeah-you-know-me/](https://hackaday.com/2017/03/17/are-you-down-with-mppt-yeah-you-know-me/)

太阳能电池已经变得越来越便宜，并在世界许多地方成为经济上可行的可再生能源。然而，从太阳能电池板获取最佳能量是一件棘手的事情。首先，高效运行有一系列物理先决条件:电池板需要保持清洁，以便阳光可以照射到电池，电池板需要指向太阳，最好不要太热。

除了这些物理需求，太阳能电池板在电力方面也很挑剔。特别是，它们产生的电量很大程度上取决于它们所呈现的电力负载，而这种最佳负载会根据面板接收到的光照量而变化。最大功率点追踪器(MPPT)理想地将电池板的电力保持在该区域，即使天空中飘着蓬松的小云朵或太阳从西边落下。使用 MPPT 可以从给定的电池中多提取 20-30%的能量，而且这种技术对黑客来说非常友好。如果你以前从未玩过太阳能电池板，你应该试试。请继续阅读，了解如何做到这一点！

## powerpoint

让我们从末端开始。任何电池的规格都包括在给定光照下产生的开路电压和短路电流。如果你没有规格表，你可以自己测量。将电压表连接到电池上，放在阳光下测量前者，换出电流表测量电流测量后者。到目前为止，一切顺利。但是这两种配置都不会产生任何*功率*，并且随着时间的推移所提供的功率是给你的电池充电的。

[![solarcell](../Images/f1bebe55fe20421b5103bcd9bb030762.png)](https://hackaday.com/wp-content/uploads/2017/02/solarcell.png) 功率等于电压乘以电流，`P=IV`。开路功率为零是因为没有电流流动，短路功率为零是因为两端没有电压差(理想情况下)。最大功率点位于无穷大电阻和零电阻这两个极端之间。

自己找到它就像在太阳能电池板上连接一个可变负载电阻，记下不同电阻下电阻两端的电压和通过电阻的电流一样简单。改变负载电阻并选择最高值时，写下`I`和`V`。搞定了。(黄色是电流与电压的关系曲线，绿色是功率。)

如果手动测量，首先要提到的是用来测量电流的电阻的功率处理能力。一个 20 瓦的大面板会烧穿一个标准的 1/4 瓦电阻，比你问“那是什么味道”还快。[Julian Ilett]在他的关于创造一个 Arduino 供电的 MPPT 电池充电器的冗长的 YouTube 视频系列中，使用了大量的微型灯泡(LAMB ),他可以将它们拧入插座来改变负载。我们也看到了各种各样的可控虚拟负载项目，从[的小型](http://hackaday.com/2014/04/29/a-simple-programmable-electronic-load-using-the-arduino/)到[的超大型](http://hackaday.com/2013/10/28/building-a-dc-constant-currentpower-electric-load/)。这很理想，但它本身就是一个项目。

[![cheesy_current_sink](../Images/a792288e8f27f02624b369049a95af75.png)T2】](https://hackaday.com/wp-content/uploads/2017/02/cheesy_current_sink.png)

对于适用于中小型电池的快速应急措施，您可能比通过散热功率 MOSFET 手动控制电流的电位计更糟糕。这个电路不提供对电流的精确控制，但你也不需要它，而且它只需要两个部分，并且只需要几瓦。它不会在低于 FET 的栅极阈值(约为 3.5 V)的情况下工作，因此它只适合较大的面板或明亮的太阳。

## 呆在区域内

一旦你对你的面板如何在各种负载下运行有了一个好的想法，你就可以开始设计一个系统来为你优化它，把假负载换成有用的东西，比如电池。MPPT 自动进行上述电流和电压测量，并包括一个电压转换器，以保持太阳能电池板在其最大额定功率下运行。如果我们对以低于电池最大电源电压的电压为电池充电感兴趣，这种转换器可以像[降压转换器](https://en.wikipedia.org/wiki/Buck_converter)一样简单:一个快速开关、一个大电感和一个续流二极管(或第二开关)。

[![buck_circuit_diagram](../Images/197bbc83e59e56a164d468a3110370a9.png)](https://hackaday.com/wp-content/uploads/2017/02/buck_circuit_diagram.png) 我们通常认为降压转换器获取未知的输入电压，并通过改变 PWM 占空比将其降压至固定的较低输出电压。这里，PWM 被设置为维持太阳能电池板输入端的期望电压，使其以峰值功率运行。从面板进入电感的任何电荷最终都会流向下游的电池，减去电感中的开关和电阻损耗。

TI 有一个[应用注释](http://ti.com/lit/an/slva446/slva446.pdf) (PDF)，概述了可能的控制策略。这些可以简单到以 80%的开路电压操作面板，也可以复杂到扫描整个范围并直接选择最大值。请注意，任何自适应策略都必须考虑到外部照明条件可能会随着控制器试图找到峰值而不断变化。

特别是，如果你选择 TI 所谓的“扰动和观察”策略——稍微改变面板电压，观察是否会产生更多或更少的功率——照射在面板上的光的变化可以使扰动看起来像是提高了面板的效率，而实际上它只是一片逐渐消失的云。事实上，在[Julian]关于自动化电源控制器的[视频中，你可以看到它落入了这个陷阱，我们怀疑这是因为他的算法反应过于频繁。在我们看来，更慢的反馈回路会更好:你不介意因为没有考虑到飞过面板的每只乌鸦而损失一点点总功率，但当几分钟后天气变得多云时，你仍然希望降低降压比。这里有大量的实验空间。](https://www.youtube.com/watch?v=JXSRXUiUA6M)

## 以巨大的力量…

大自然控制输入，你的 MPPT 控制太阳能电池板的工作电压以最大化功率。下游电压和电流会波动。如果你正在做一些宽容的事情，比如给铅酸电池充电，你几乎可以直接将电池充电，注意在电池充满电时关闭太阳能电池板。除了可能的过度充电，你可以通过读取电池电压来防止，汽车电池会吸收你给它的任何电流。

[![img_9195](../Images/54712ee3d02c41fbd36903c2a0dac84a.png)](https://hackaday.com/wp-content/uploads/2017/02/img_9195.jpg) 如果你正在用更敏感的化学物质给电池充电，你可能需要进一步的电压或电流限制。我们目前正在试用便宜的易贝 5 V 锂离子充电器和旧的笔记本电池。[Rusdy]有更多关于他的电动自行车充电设置的真实数据，但他在那里使用升压转换器为高压电池组充电。

一个面板到电池的 MPPT 和充电控制器使锂离子电池充电简单高效，显然是一个很好的东西。我们在 Hackaday.io 上有许多 MPPT 充电器项目，他们甚至在 Hackaday 奖中表现出色。有许多开放的设计供你从中汲取灵感，或者只是复制。

MPPT 是电力电子领域的一个很好的中级项目，你将学到一些关于电流测量的知识，并开始构建自己的升压或降压转换器。如果你喜欢的话，固件中有很多空间来记录数据和优化控制算法。你可以从一个小面板和你的垃圾箱里的零件开始，或者修改易贝零件。最后，你可以“免费”给电池充电。多酷啊。

你现在正在做一个 MPPT 的项目吗？如果有，请告诉我们！