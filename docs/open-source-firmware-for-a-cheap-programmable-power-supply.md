# 廉价可编程电源的开源固件

> 原文：<https://hackaday.com/2017/03/07/open-source-firmware-for-a-cheap-programmable-power-supply/>

几个月前，有人向我们介绍了一款来自中国普通零售商的小巧可编程电源。DPS5005 是一款可编程电源，可从大型交流电源向 DC 壁式电源供电，并将其转化为小型台式电源。你可以花大约 30 美元买到这些东西中的一个，所以如果你已经有一个足够大的交流到 DC 转换器，你就可以廉价地建造一个漂亮的 250 瓦电源。

[Johan]拿起一个微型可编程电源。他的总体印象是积极的，但就像全球速卖通上的许多廉价产品一样，界面没有太多修饰。此外，DPS5005 缺乏通过串行端口或 WiFi 进行控制的能力。

这款可编程电源围绕 STM32 构建，编程焊盘裸露在外，并贴在 PCB 上。[Johan]想要做的改变都在软件中，[这让他开发了 OpenDPS](https://johan.kanflo.com/hacking-the-dps5005/) ，一种 DPS5005 的固件替代品。

要为这个电源编写自己的固件，[Johan]首先必须让他的计算机与控制电源的主芯片对话。这对于 STLink 编程器来说很快，但是微控制器的读出保护已经设置。这结束了对固件的逆向工程，但这真的无关紧要——他只对微控制器与什么对话感兴趣。经过一些工作后，[Johan]设法弄清楚如何与按钮、限流器、ADC 和 TFT 显示屏进行交互。[应用程序的 UI](https://johan.kanflo.com/opendps-design/) 得到了极大的改进，支持插入 UART 引脚的 ESP8266。

现在，[Johan]有一个明显更好的电源，可以通过 WiFi 编程。所有的代码都是可用的，甚至还有一个如何破解这些电源的指南。这是一项了不起的工作，如果一家随机的中国工厂注意到这一点，并把这种固件放到他们的生产线上，那我们就太幸运了。