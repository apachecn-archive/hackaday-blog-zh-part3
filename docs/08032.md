# 与数字速度计接口

> 原文:[https://hack aday . com/2017/12/25/与数字速度计接口/](https://hackaday.com/2017/12/25/interfacing-with-a-digital-speedometer/)

在更换了他的滑板车的引擎后，[詹姆斯·斯坦利]有了一个不幸的发现。速度计是数字控制的，虽然原始引擎有一个传感器，可以产生脉冲来解释，但他的新引擎没有。得知原来的传感器每次检测到一个旋转齿轮的一个齿时都会将信号线拉至地面，[【James】认为他需要找到一种方法来检测滑板车的速度，并手动创建这些脉冲](https://incoherency.co.uk/blog/stories/scooter-speedo.html)。

为了找到踏板车的速度，他在前轮上安装了一块磁铁，在前叉上安装了一个霍尔效应传感器，以检测踏板车每次经过的时间。由于车轮的周长是已知的，对来自传感器的脉冲进行计时可以计算出当前的速度。如果你想要更少的电线，可以使用 GPS 接收器，但是轮子上的霍尔效应传感器简单可靠。现在已经知道了踏板车的速度，他需要把它转换成速度计能够理解的信号。

[![](../Images/287915d42b26b94eebcc1501f9acd0cf.png)](https://hackaday.com/wp-content/uploads/2017/12/speedo_detail.jpg)

Speedometer controller potted with resin.

[James]为 ATmega 编写了一个程序，该程序将从车轮传感器获取输入，并使用它来创建 PWM 信号。这个 PWM 信号驱动一个晶体管，使车速表传感器线在低电平和浮动之间交替。通过一点实验，他能够提出一种算法，将车轮速度等同于速度表所需的变速箱速度，其精度足够接近他的目的。

虽然这个项目的软件本身很有趣，但硬件是生产适用于车辆的鲁棒电子设备的绝佳案例。[詹姆斯] 3D 打印了电路板的浅外壳，并用黑色聚氨酯树脂灌封整个设备。他甚至有先见之明，确保在封装所有东西之前，他有一个调试 LED 和编程连接器(这最终保存了项目)。

虽然[James]遇到的特定场景不太可能降临到其他人身上，但他的项目是一个很好的例子，不仅可以与现有的电子设备接口，还可以在不倾家荡产的情况下生产坚固而专业的硬件。即使你不喜欢踏板车，也可以从这篇文章中吸取教训。

对于你们两个有轮子的黑客来说，[我们已经涵盖了为自行车设计的类似项目](https://hackaday.com/2017/03/09/arduino-geometry-bicycle-speedometer/)，以及一些[非常光滑的摩托车数字速度表模块](https://hackaday.com/2012/04/05/digital-speedometer-with-an-arduino/)。