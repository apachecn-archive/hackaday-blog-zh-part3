# 超越测量:仪器基础

> 原文:[https://hack aday . com/2016/03/11/beyond-measure-instrumentation-essentials/](https://hackaday.com/2016/03/11/beyond-measure-instrumentation-essentials/)

物理世界是模拟的，如果我们想使用数字设备与之交互，就需要进行转换。为此，我们使用模数转换器(ADC)将真实世界的模拟量转换为数字值。但是，我们不能将任何模拟信号放入 ADC 的输入端，我们需要该模拟信号是干净且经过调理的可测量电压。这意味着我们已经消除了所有的噪声，并将测量值转换成可用的电压。

## 有用的东西。

这不是什么新信息，尤其是对黑客读者来说。重要的一点是，我们每天都依赖这些系统，它们需要像宣传的那样工作。一个简单的例子是，5 年前我第一次坐进车里的时候就打开了车前灯，从那以后就再也没有关掉过。这不是一个日间行车灯系统，控制器在天黑时开灯，白天关灯。这个应用程序属于很大程度上不被注意的一类东西，因为简单地说:它们。工作。每一个。时间。这不是一个令人瞠目结舌的例子，但它很好地实现了实用可靠的模数转换。

[![flow](../Images/ff7a5754a1982ebb98a8c8a59df4c110.png)](https://hackaday.com/wp-content/uploads/2016/03/flow2.png)

Figure 1

# 传感器和换能器

这些可能看起来像同义词，它们有时可以互换使用，但它们是两回事。测量系统由三部分组成:传感器、变量转换元件和信号调理。传感器和换能器之间的混淆是可以理解的，因为它们中的一个包含另一个，而不是相反。传感器是测量物理量并输出变量的装置。来自传感器的可变输出并不总是有用的信号，这是传感器和换能器之间的区别。传感器测量物理量(传感器)，并将输出变量转换为可用信号。这有点像这样一个概念:每个正方形都是矩形，但没有一个矩形是正方形。如果你还和我在一起，眨眨眼，好吧，反正我要继续前进。

## 传感器

传感器用于直接测量所选的输入变量，在我们的头灯示例中，输入变量是光强度。这种情况下使用的传感器是一个光电池。让我在这里抑制一些不必要的评论，并同意你的观点:是的，它们也被称为光敏电阻，光电导光电池，我敢肯定还有其他名字。光电池的工作原理是，随着特定波长的光的变化，电池两端的电阻在设定的范围内变化。让我们仔细看看这在实际情况下意味着什么。

 [![photocell direct light](../Images/81c9d990b35038af39721e78eef24265.png "photocell_light")](https://hackaday.com/2016/03/11/beyond-measure-instrumentation-essentials/photocell_light/) photocell direct light [![photocell darkness](../Images/61f2ce0bddedf503d8156663fb6dd670.png "photocell_dark")](https://hackaday.com/2016/03/11/beyond-measure-instrumentation-essentials/photocell_dark/) photocell darkness

您可以从我的演示照片中看到，对于给定的光电池，在光线充足的环境中电阻为 500 欧姆，在黑暗的环境中电阻为 3.5 欧姆。是的，我正在对数值进行四舍五入，以得到更好的整数，但是对于我们的目的来说，这很好，主要是因为我决定这样做。如果我们要设计一个使用这种光电池的测量系统，我们会获得一些更详细和具体的数据，但我们会假设我们的方式通过这个幻想的建设。

## 换能器

[![Resistor Bridge](../Images/7726e7594a1e00ee8e5cfd148f223875.png)](https://hackaday.com/wp-content/uploads/2016/03/chapter_9_bridge_box.png)

Figure 2

我提到传感器和转换器类似于正方形和长方形，你们中的一些人会抱怨这个类比，但我坚持它。换能器是传感器和可变转换元件的组合。传感器测量输入变量，结果往往不如我们希望的那样用户友好。在我们的头灯例子中，光强度的变化导致电阻的变化。由于我们针对的是 ADC 的输入，因此需要将该信号表示为电压而非电阻的变化。

解决这个问题的一种方法是使用电阻电桥或人们常说的惠斯通电桥。通过创建一对具有已知电源电压和精选电阻的分压器，我们可以控制桥接电路的输出范围。在我们的示例电路(图 2)中，电桥的正臂在左侧，负臂在右侧。正极臂是由光电池(Rs)和电阻 Ra 组成的分压器。负臂分压器是电位计(Rc)和电阻 Rb 的组合。在图 2 中，我将电位计(Rc)作为真实世界的代表，说明我将如何在电路中构建校准电桥的能力，在我们的讨论中不会用到它。

### 零型惠斯通电桥

我们将创建一个零型惠斯通电桥，这意味着在光电池的标称电阻下，Vout 端的输出为零。当 Ra*Rc = Rb*Rs 时，输出为零(Vout=0)。

我们可以将标称电阻选择为光电池范围内的任何值(500 欧姆至 3.5M 欧姆)。为了简单起见，让我们在黄昏时使用一个虚构的 30K 欧姆的光电管电阻值。为了保持精确的整数，我们将进行两次测试。一个对 Ra 和 Rb 使用 1K 欧姆电阻，另一个使用 100K 欧姆电阻。

为了说明这两个电阻值的差异，我使用 [Multisim](http://www.ni.com/multisim/) 对 Rs(模拟中的 R3)进行了从 0 欧姆到 50K 欧姆的参数扫描，这应该可以让我们很好地了解该系统在典型的一天中光线变化的过程中会如何表现。图中的 Y 轴是输出端的电压(Vout ), X 轴是传感器的电阻。

 [![1K Ohm](../Images/3c84fb487a421d5f309b39166ffc3af8.png "1k_sweep_plot")](https://hackaday.com/2016/03/11/beyond-measure-instrumentation-essentials/1k_sweep_plot/) 1K Ohm [![100K Ohm](../Images/d68cabb197e286c91b46f7d586e39170.png "100k_sweep_plot")](https://hackaday.com/2016/03/11/beyond-measure-instrumentation-essentials/100k_sweep_plot/) 100K Ohm

可以看到，性能有很大的差异，左边的曲线图显示 Ra 和 Rb 使用 1Kω电阻时，响应呈指数变化，右边的 100K 响应几乎呈线性变化。这有助于了解并根据需要实现其中的一个。

# 信号处理

到目前为止，我们有一个系统，通过传感器将光强作为输入变量，传感器输出电阻。接下来，零型惠斯通电桥形式的可变转换元件获取电阻并将其转换成可用电压。该过程的下一步是获取我们从电阻转换为电压的信号，并对其进行改进。该位根据情况而变化，一些传感器输出的变化非常微小，需要放大到更容易处理的电压水平。使用放大器可以提高灵敏度和分辨率。

## 运算放大器

[![whitespace_op-amp](../Images/1c26300b82292985af896eaac0202fc1.png)](https://hackaday.com/wp-content/uploads/2016/03/whitespace_op-amp.png)

Figure 3

如果我们使用 100K 欧姆模型，输出电压范围从白天最亮时的 2.7V 到完全黑暗时的-8.9V。这些是我们可以输入 ADC 的有用值，但是我们可以使用运算放大器消除汽车应用中可能存在的电感噪声。

我们可以使用差分运算放大器电路来抑制输入 Vin1 和 Vin2 共有的任何信号(这种情况下，我们抑制的是噪声)。为了简化数学计算，电阻仅标有 R1 和 R2。在这种配置中，我们可以计算出输出电压 Vout = R2/R1*(V2-V1)。在这种情况下，我们不需要实现任何增益，所以我们可以通过让 R2=R1 来实现这个“单位增益”。如果我们确实想要 100 倍的增益，那么我们会选择 R2 为 100K，R1 为 1K，这是假设我们使用的运算放大器能够实现这样的增益。

# 最后的想法

说到底，不管你的手臂多么有力，调用汇编子程序多么巧妙，如果你不明白如何构建模拟前端，你的代码也救不了你。这与 Gerrit 关于软件和机械工程师的文章有些相似。这种模拟的东西不是微不足道的，你不能用 OTA 更新来解决它。现在，如果我们能够克服所有传感器与传感器之间的争论，我们就有了一个非常好的方案，以电压作为输出来测量光强。我们通过使用差分放大器消除了一些共模噪声，如果需要增益，我们也知道如何实现。

## 下次

在下一期文章中，我们将进一步探讨如何将模拟信号转换成数字值。我们将看看一些仪表放大器示例，甚至可能会看看 ADC。