# 在 ESP32 上启用以太网

> 原文：<https://hackaday.com/2017/04/18/enabling-ethernet-on-the-esp32/>

ESP32 是 Espressif 最新、最棒的神奇芯片。这是一个 32 位双核芯片，具有 WiFi、蓝牙和大量外设，如 CAN 和以太网。对于大多数外设，Espressif 已经有了一些示例代码，但是[Frank Sautter]不喜欢以太网实现。“库存”代码需要一个 TLK110 以太网 PHY，但如果购买数量为 1，这是一个昂贵的芯片。更好的芯片应该是 LAN8720，所以[Frank] [用这个芯片](https://sautter.com/blog/ethernet-on-esp32-using-lan8720/)在 ESP32 上建立了一个支持以太网的板。

ESP32 只需要几个组件就可以连接到以太网。只需几个电阻、电容和一个 RJ45 插孔就能完成大部分工作，但因为他走的是以太网“屏蔽”路线，所以他需要添加自己的以太网 PHY。Waveshare LAN8720 是用于此目的的芯片，但 ESP32 的引脚配置存在问题。ESP32 上的 GPIO0 有两个功能，第一个是在启动期间拉低它以进行串行编程，第二个是 EMAC 功能模块的时钟输入。必须设计一些电路来支持这两种情况，以便在 ESP32 上启用以太网。

[Frank]的解决方案是在分线板中增加几个上拉和下拉电阻，并使用一个未使用的 GPIO 引脚在启动时将 GPIO0 切换到高电平，但允许晶振稍后抓取它。当然，这是一种黑客行为，但它确实允许使用一些更便宜的芯片来提供 ESP32 以太网。