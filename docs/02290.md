# 如何设计、制造和记录硬件产品

> 原文:[https://hack aday . com/2016/05/06/how-to-design-manufacture-and-document-a-hardware-product/](https://hackaday.com/2016/05/06/how-to-design-manufacture-and-document-a-hardware-product/)

有一个硬件设计英雄抓住机会设计一个 Hackaday 会议徽章真是太棒了。我说的当然是沃佳·安东尼奇。

在过去的两年里，我通过介绍认识了他，他同意写一些原创文章。他长期以来一直是一名黑客，并分享了他的技术故事，尽管他周围的政治和社会在变化。他的 *Galaksija* 电脑是南斯拉夫第一台个人电脑，售出 8000 多套。从那时起，他从未停止改进他的设计和制造技能。例如，[用 FR4](https://hackaday.com/author/vantonic/) 制作案例的方法是无与伦比的，从赌场行业的硬件设计中解读他的一些[智慧](https://hackaday.com/2015/08/31/beating-the-casino-there-is-no-free-lunch/)是那种很少让其他人欣赏的迷人的东西。

但是我跑题了——重点是 Voja 一直在这个街区，他知道他在做什么，而且他做得非常好。他在贝尔格莱德会议徽章上做了令人难以置信的工作。它具有 16×8 LED 显示屏、红外通信硬件、5 个用户按钮、USB 编程、加速度计模块选项，并且使用两节 AAA 电池具有惊人的寿命。这是会议上的热门话题，他讨论设计和制造的演讲也是如此。看看下面，然后加入我下面的折叠。

 [https://www.youtube.com/embed/5WVbhwxI8Hg?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/5WVbhwxI8Hg?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)

T2】

### 设计考虑

[![belgrade-badge-board-layout](../Images/2ac7e371a98956a68b91982077054839.png)](https://hackaday.com/wp-content/uploads/2016/05/belgrade-badge-board-layout.jpg) 设计一个硬件徽章并不像你想象的那么简单。它需要功能好、成本低、外观好。我感觉维恩图就要出现了，但我相信你有能力在心里画一个。

考虑到这三个限制，这个徽章是一个巨大的成功。材料清单用于确定会议的早鸟票的价格。所有微控制器的捐赠进一步帮助了我们降低了成本。Mhen Microchip 听说 Voja 选择了他们的一个芯片(PIC18LF25k50 ),他们不仅愿意捐赠芯片，还愿意及时将芯片送到贝尔格莱德进行组装。

在功能上，你可以用一个 16×8 的网格和三个按钮做很多事情。最初的原型玩俄罗斯方块，左右键旋转棋子，中间键放下棋子。第四个按钮与 INT 引脚相连。这用于在活动、暂停和睡眠模式之间循环。最终的设计将增加第四个方向按钮。

该徽章使用 USB 引导加载程序，以便新的固件可以被刷新，而不需要专门的硬件程序员。该徽章从未由 USB 供电，但该连接器上的电源引脚由芯片监控。从复位中唤醒时，如果在连接器上检测到电压，它将进入引导加载程序模式。这种引导模式由闪烁的 LED 指示，它巧妙地绕过了设计的正常矩阵扫描。

### 制造业

我们可以明天开始。这是 Voja 从他选择的中国合同制造商那里得到的信息的要点。没问题，除了一个多星期以来，他每天都收到这样的短信回复。听到其他产品设计的常客告诉它，这并不罕见。当你可以把它们挂一会儿，并在工厂休息时把它们插上时，为什么要告诉你的顾客不要呢？随着时间的推移，他转向并在贝尔格莱德找到了一家合同制造商来承担这项工作。

当然，这不是唯一的问题。采购零部件成了一个大而棘手的问题。供不应求的是 Kingbright LED 模块；不容易更换的零件。原型中使用的 8×8 红色 LED 模块的交付时间比他的截止日期长得多，全球库存还不到所需量的一半。他向克里斯·甘梅尔求助。除了自己是一名工程师之外，Chris 还与供应商框架的两个网站——parts . io 和 FindChips.com——合作，这两个网站为全球的制造商、经销商和经纪人处理零件采购数据。这不是一个神奇的“哦，这是你需要的所有零件”，而是两个人能够想出一个解决方案。

他们清除了 8×8 红色共阳极和共阴极显示器的世界供应。因为这还不够，他们还买了所有的绿色启动。敏锐的读者已经注意到，使用公共阴极或公共阳极的显示器是完全不同的。这意味着对徽章进行了两次不同的硬件修改，采用了一种巧妙的设计，让软件感知它被加载到了哪个版本。

### 固件

硬件设计完成后，Voja 开始编写代码。他使用了 Microchip 现有的 USB bootloader 包，并编写了他所谓的“内核”来处理 LED 显示屏扫描、按钮监控、睡眠和自动睡眠模式以及红外通信。但是，如果你想让会议上的每个人都破解这个软件，有两个问题:所有这些都是用汇编语言编写的(大多数人对 ASM 不太熟悉)，而且每次破解都需要把它放到用户代码中。

Voja 的解决方案是将内核整合到引导装载程序中。这将它放入用户不会意外更改的受保护空间，将所有硬件功能映射到内存位置。这是可能的最佳解决方案！绝对的初学者可以直接进入，点亮 led 并读取用户输入，而不需要了解太多关于硬件的任何东西。中级用户可能会对所有的内存映射硬件感到有点疯狂。专家们可以拿出一个独立的程序员来清除引导装载程序和内核，直接访问寄存器中的位。

### 文档

[![Belgrade Badge display documentation](../Images/12d8f1b05f79b0359a85d05e180b9611.png)T2】](https://hackaday.com/wp-content/uploads/2016/05/belgrade-badge-display-documentation.jpg)

如果您构建了它，并且您希望其他人使用它，您必须记录它。投入的时间和精力几乎和成品本身一样令人印象深刻。Voja 制作了图表，并写下了设计的方方面面，包括硬件和软件。他应该环游世界，在每个工程学校教授这些。说真的，花点时间浏览一下[他的文档](https://cdn.hackaday.io/files/9509406833056/Hackaday%20Belgrade%20Badge%20Manual%20v2%20r2.pdf) (PDF)，并以此为灵感在这个领域提升你自己的游戏。

最终，努力得到了回报。这些徽章大受欢迎，价格合理，看起来很棒，而且效果很好。非常感谢 Voja 在这方面所做的所有工作，以及在他的演讲和他发表的文档中分享整个故事。