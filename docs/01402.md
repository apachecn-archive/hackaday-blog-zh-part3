# 奶奶的电话，DSL，还有他们共用的铜缆

> 原文:[https://hack aday . com/2016/02/05/grand MAS-phone-DSL-and-the-copper-they-share/](https://hackaday.com/2016/02/05/grandmas-phone-dsl-and-the-copper-they-share/)

我的 DSL 线路下载速度是每秒 6 兆。我刚做了测试。这是通过一对铜双绞线，同样的普通老式电话服务(POTS)双绞线将你祖母的电话连接到世界其他地方。事实上，如果你有那部电话，你今天就可以连接并使用它。

我还记得老式的 110 bps 声耦合器调制解调器。也许你们中的一些人也可以。你记得升级到 300 bps 吗？哇！三倍速度。速度逐渐增加，从 1200 转到 2400 转，最后是 56.6k。都是在同样的电线上。现在，如果我们不能通过同一条 POTS 线路从 DSL 获得数兆比特，我们会觉得被亏待了。我们怎么能在一个仍然允许你祖母的电话被连接和拨号的系统上获得这样的速度呢？工程师们如何知道这些速度的提高是可能的？

![shannon_maze_hr](../Images/a83f9296841ab9d4a81f17fede47f61b.png)

Claude Shannon with his maze running mechanical mouse

答案可以追溯到 1948 年克劳德·香农博士写的一篇开创性的论文《交流的数学理论》。在那篇论文中，他为信息论奠定了基础。香农还因为将由[乔治·布尔](https://en.wikipedia.org/wiki/George_Boole)开发的[布尔代数](https://en.wikipedia.org/wiki/Boolean_algebra)应用于电路而被认可。香农认识到，当时的开关和今天的逻辑电路都遵循布尔代数的规则。这是他 1937 年写的硕士论文。

香农的通信理论解释了在特定的错误率下，你可以通过通信信道发送多少信息。总之，该理论认为:

*   存在最大信道容量 C，
*   如果传输速率 R 小于 C，则可以使用智能编码技术以选定的小错误概率传输信息，
*   编码技术需要具有较长信号数据块的智能编码技术。

这个理论没有提供智能编码技术的信息。理论上说你能做到，但没说怎么做。

在这篇文章中，我将描述这项工作，但不涉及数学推导。在另一篇文章中，我将讨论一些用于接近信道容量的智能编码技术。如果你能理解数学，这是发表在 1948 年 7 月[贝尔系统技术杂志](http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=6773024)的论文的第一部分和同年晚些时候发表的[剩余部分](http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=6773067)。要想了解过去在一对双绞铜线上能容纳如此多信息的系统，请继续阅读。

## 简而言之的信息论

![shannon_comm_channel_noise_diagram_fig1](../Images/a6bed04212ad6bd3e43cda250732173d.png)我们先从一张图来了解基本问题。我们有一个发射机通过一个信道从一个信源发出的信息。该信道被噪声源中断。接收器接收信号加噪声，并将其转换回信息。香农决定了你可以通过信道可靠传输的最大信息量。最大速率由信道带宽和噪声量决定，并且仅由这两个值决定。我们可以直观地看到，带宽和噪声将是限制因素。令人惊奇的是，它们是仅有的两个因素。

## 带宽

很明显，带宽较大的信道比带宽较小的信道能传递更多的数据。管道越大，可以通过的管道就越多。这种说法适用于所有通信通道，无论是射频(RF)、光纤还是 POTS 双绞线。

![600px-Bandwidth_2](../Images/00a5692a8fe724013250d64c5bc4578a.png)信道的带宽是通过信道的最高和最低频率之间的差值。例如，POTS 语音信道具有 400 Hz 的低频和 3400 Hz 的高频。这提供了 3000 Hz 的带宽。(一些参考文献称低频为 300 Hz，提供 3100 Hz 带宽。)实际上，渠道限制并不是急剧的截止。香农使用信号强度下降 3 分贝来确定极限。

双绞线的带宽大于 3000 Hz，因此它们不是窄 POTS 带宽的原因。电话公司强加了这种有限的带宽，这样他们就可以在一条线路上对长途电话进行频率复用。带宽限制是可以接受的，因为人类的语言在这个频段是可以理解的。

### 奈奎斯特速率

香农的理论建立在哈利·奈奎斯特和 T2 的工作基础上。奈奎斯特分析电报系统，迈出了确定信道容量的第一步。他确定一个通道的[最大脉冲速率](http://monoskop.org/images/9/9f/Nyquist_Harry_1924_Certain_Factors_Affecting_Telegraph_Speed.pdf) (PDF)是带宽的两倍。这是[奈奎斯特速率](https://en.wikipedia.org/wiki/Nyquist_rate)(如果您不敢苟同，请参见我在文章末尾关于“奈奎斯特”术语的注释)。在我们的 3000 Hz POTS 通道中，我们每秒可以传输 6000 个脉冲，这完全违反直觉。

让我们通过通道发送一个 3000 hz 的正弦波信号。我们以某种方式砍掉了正弦波的所有负波瓣。如果我们将剩余的波瓣指定为 0，将丢失的波瓣指定为 1，我们将通过信道发送 6000 位。奈奎斯特讨论的是脉冲，但我们现在称它们为通信工作中的符号。每秒钟的符号数是一个波特，以创造了第一个数字代码的[之一的](http://hackaday.com/2015/09/27/demonstrating-baudot-code/)[米勒·波特](https://en.wikipedia.org/wiki/%C3%89mile_Baudot)命名。说“波特率”是不正确的，因为根据定义它是一个速率。

奈奎斯特速率的公式为:

![C = 2 \times B](../Images/1b961ec51bb7b519a5e2b00ada91ce2c.png)

**C** 是以每秒符号为单位的信道容量，或者波特
T3】B 是以赫兹为单位的信道带宽

### 哈特利定律

哈特利的贡献扩展到使用两个以上的信号水平，或多级编码。他认识到，接收器决定了可以检测到的级数，与所有其他因素无关。在我们的 POTS 通道示例中，您可以使用正弦波的幅度来确定多个电平。利用 4 个不同的电平，我们可以为每个符号发送两个比特。对于多级编码，无噪声信道的比特率由下式给出:

![C = 2 \times B \times \log _2 M](../Images/7237c54e1073217b70ef60df10c0c51f.png)

**C** 是以比特每秒为单位的信道容量
T3】B 是以赫兹为单位的信道带宽
T6】M 是级数。

## 噪音

很明显，噪声会限制可以传递的数据量。这类似于管道粗糙的内表面会引起摩擦并减缓物质的通过。噪声越多，无错数据速率越慢。这是香农的公式:

![C = B \log _2 (1 + \frac{S}{N})](../Images/e10416201e683bc68c8138146b7cc6b9.png)

**C** 是以比特每秒(bps)为单位的信道容量
**B** 是以赫兹为单位的信道带宽
**S** 是带宽上的平均接收信号功率
**N** 是带宽上的平均噪声或干扰功率
**S/N** 是信噪比(SNR)

香农的结果是用比特表示的，因为他用比特定义了“信息”。考虑一副 52 张扑克牌，有 4 种花色，每种花色有 13 张牌。用 2 位(00b 到 11b)来表示四种花色，用 4 位(0000b 到 1101b)来表示牌。总共需要 6 位来表示一副牌。

一副牌可以传送更多的数据:颜色为 1 位，面牌或号码牌为 1 位，面牌性别为 1 位，等等。这些是多余的，因为完整的信息已经在 6 位中可用。根据 Shannon 的工作，这不仅仅是告诉某人 Hackaday 上有新文章的信息。总是有新的文章，所以这不是信息。报道一天没有文章？那是信息。

一个比特被正确或错误接收的概率由信噪比决定。更高的噪声水平意味着更少的无错位传输。这与 Hartley 的认识直接相关，即比特率由接收器正确检测多个信号电平的能力决定。当噪声水平超过接收器区分好的和坏的符号的能力时，错误开始发生。噪声对符号的影响实际上取决于具体的符号。低电平幅度调制信号可能会被噪声淹没，而较高幅度的符号则没有问题。噪声以其他方式影响其他调制方法。

## 电话公司作弊

早些时候我问 DSL 是如何通过处理你祖母电话的同一条线路工作的。基本答案是电话公司作弊。说真的，从你家到第一家电话公司的线路是未经过滤的，这使得 DSL 可以使用双绞线的全部带宽。在电话公司端，他们将语音和 DSL 信号分开。语音限于 3000 Hz，DSL 留在其全带宽。你家里的那个小滤波器是一个带通滤波器，用来阻挡你手机的 DSL 信号。

我提到过香农的理论没有回答如何实现高通量的问题。在下一篇文章中，我们将研究其中的一些技术，包括噪声信道上的错误检测和纠正。

## 奈奎斯特项的一个评论

关于奈奎斯特速率与极限或采样定理的含义，参考文献之间存在冲突。这种混乱突出了奈奎斯特贡献了多少，因为如果数量更少，就不会有混乱。维基百科上的一篇文章可能不是权威的，但是为[奈奎斯特速率](https://en.wikipedia.org/wiki/Nyquist_rate)提供的那篇文章解释了这个术语的两种冲突的含义。