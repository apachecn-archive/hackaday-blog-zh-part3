# 空调讲串联，跟其他东西一样

> 原文:[https://hack aday . com/2017/01/06/air-conditioner-speaks-serial-just-like-everything-else/](https://hackaday.com/2017/01/06/air-conditioner-speaks-serial-just-like-everything-else/)

像许多其他家用电器一样，很可能你的空调内部也埋有一个串行接口。如果你想知道为什么，那是因为几乎地球上的每个微控制器都内置了 UART，它对于开发过程中的调试非常有用，所以使用它是有意义的。因此，我们看到由树莓皮控制的空调被黑只是时间问题。

[Hadley]对他的三菱空调的红外遥控器越来越失望；它可以发出命令，但这是一个单向的界面——除了偶尔的一两声哔哔声，没有关于当前状态或是否收到命令的反馈。决定必须有一个更好的方法，[Hadley]抓起一个 Saleae 逻辑分析仪，开始四处探查，确定该单元以 2400 bps 的速率发出 5 V TTL，奇偶校验为偶数。下一步是开始反驳。

这篇文章没有详细说明消息协议是如何被破译的——我们很想看看其中的过程。从那时起，很简单的事情就是卷起一些 Python 脚本，与空调进行串行通信。该系统允许通过 websockets 使用 MQTT 来控制 HTML。

这里真正的好处是双向通信——不仅可以向设备发送命令，还可以接收消息。空调将确认收到的命令，并在使用红外遥控器进行更改时发送更新-这使控制器能够与空调的当前状态保持同步。

这个项目展示了一种比简单的开关控制更强大的自动化家中 HVAC 系统的方法，并且只需要一些基本的数字黑客技能以及安全使用市电供电设备的知识。作为你可以自己尝试的证明，有人已经[将代码移植到 ESP8266 上](http://www.esp8266.com/viewtopic.php?f=29&t=13207&p=60510#p60510)！如果你渴望了解更多关于使用暖通空调硬件的知识，为什么不去读读[如何成为一名暖通空调技术员](http://hackaday.com/2016/03/28/hvac-techs-hackers-who-make-house-calls/)？

【谢谢鲍勃！]