# 为 Fab 设计:为专业组装设计 PCB 前的提醒

> 原文:[https://hack aday . com/2017/05/10/design-for-fab-a-heads-before-design-PCB-for-professional-assembly/](https://hackaday.com/2017/05/10/designing-for-fab-a-heads-up-before-designing-pcbs-for-professional-assembly/)

设计用于组装的 PCB 很容易，对吗？我们只需将所有尺寸喷射到电路板布局上，连接所有走线，发送 gerbers 和位置文件，就大功告成了，对吗？

哇，拿着电话，小流氓！就像我们可以用以我们最好的朋友名字命名的变量来拼凑一些工作源代码一样，我们也可以用让组装变得相当困难的方式来设计我们的印刷电路板。

然而，通过遵循商定的设计规范，我们将使自己走上自动化装配的成功之路。如果我们想让另一方在我们的电路板上安装元件，我们需要*清楚地*传达所需的步骤。最好的方法是遵循标准。

### 正确的足迹方向

现在，对于一个母亲来说，让我们想象自己是一个拾放机器上的真空拾取工具的尖端。这些工具被设计成从元件的*质心*拾取卷轴上的元件，并将它们放到相应的焊盘图形上。看起来很简单，对吧？是的，只要我们设计我们的足迹时知道它们有一天会与取放机器面对面。

为了从卷轴到电路板，我们设计师需要器件数据手册中的两个信息:器件质心和卷轴方向。

零件质心是一个 X-Y 位置，表示零件的质心。它基本上是告诉机器:“从这里接我！”作为设计师，我们有责任*设计我们所有的足迹，使得足迹原点设置在零件的质心*。如果我们忘记这样做，取放机将试图从可能无法很好地粘附到包装上的位置吸取我们的零件，例如:角落。

![Figure 1a. Quadrant designation. Use pin 1 mark to determine the correct orientation of unit in reel.](../Images/f94f56001f18772b970396d377a685d9.png)

Image Credit: Maxim Integrated

卷轴方向是指零件放置在卷轴内的方向。对于取放机，卷轴通常只能以一种方式装入机器。然而，位于该卷轴上的部件可以以四种方式中的一种来定向——引脚 1 位于四个象限中的一个。

同样，作为设计师，我们有责任*设计我们所有的足迹，使足迹方向与卷轴的方向相匹配，相对于卷轴进给方向。*简而言之，我们只需要确保足迹设计上的引脚 1 与卷轴上的引脚 1 在机器上运行时匹配同一个*象限*。

![](../Images/814f97cc52f8115cbf0ebafa4af2d728.png)

Pin 1 in Quadrant 1

听起来很简单，对吧？通常，我们很幸运；这两条信息在器件的数据手册中。遗憾的是，情况并非总是如此。有时，IC 的主数据手册可能不包含卷盘方向。对于这些信息，他们有时会建议您参考不同的数据手册，其中包含特定封装类型的卷盘信息。例如，在 [Vishay 的二极管页面](http://www.vishay.com/diodes/related/#taprel)上查看 D-PAK 卷轴信息 [PDF](http://www.vishay.com/docs/95033/dpak.pdf) 。

这种将卷轴信息分割成单独文档的做法基本上是供应商的懒惰。我现在可以听到他们说:“为什么要把卷盘信息放在每一个零件的数据表上，我们可以把它放在一个单独的数据表上，而 T2 只是讨论与特定零件尺寸相对应的卷盘信息。”然而，尽管这种做法会让我们徒劳地搜寻*仅仅一个*片段的信息，但它总是*列出来的。迟早，*有人*会需要用供应商的零件批量生产一个产品，而这个方位信息对于装配来说是至关重要的。*

### 不可避免的足迹模糊性:

![T55P475M010C0200 Vishay Sprague | 718-2070-2-ND DigiKey Electronics](../Images/42951bb31bf9a7c75a577a74103d4bd0.png)

Image Credit: Digikey

尽管困难重重，有些部分*仍然*没有明确的方式来指示它们的方向。这些器件通常是对称封装的极化无源器件(电容和二极管)。请查看此电容套装:

这个电容(PN: T55P475M010C0200)是极化的，但它有一个 0805 焊盘图形，是对称的(非极化)。假设 PCB 组装厂获得了带零件转换的标准位置文件*和 gerber 文件*，他们是否有足够的信息来确定盖子应该走哪条路？除非有双方同意的默认方向，否则他们不会！

事情是这样的:从技术上讲，IPC-7351 规范为这些组件定义了一个“引脚 1”方向，它应该与卷轴方向相匹配。我们在上一节讨论的这个规范，*应该*排除了任何歧义。然而，问题是，作为足迹库的制作者，我们没有这样的约束来遵循所述规范![](../Images/7e6005f5540b21dc4900d0ff4d5561b0.png)。当我们创建库足迹时，我们可以将 pin-1 放在我们想要的任何象限中！这里，亲爱的 PCB 设计师，从网上导入一些随机伙伴的足迹库存在危险。除非我们检查了每一个脚印，否则我们无法保证这个家伙的脚印符合 IPC-7351 规范。

当有任何疑问时，你可能*将*需要用一些显示正确方向的信息图来帮助你的装配车间。带有几个标签的电路板布局截图就可以了。

### 使用实际存在的零件

根据我们的设计软件，有时我们会使用与具有特定零件号的零件相关的原理图符号。其他时候，我们可以使用严格的符号，然后在这些符号中填入实际的零件号。如果你在第二个阵营，请注意:在跳转到布局之前，请确保这些符号与实际匹配现实生活部分的足迹相关联。

想要一个尺寸为 0805、温度系数为 X7R、额定值为 25 V 的 10 uF 陶瓷电容？太糟糕了！我们应该在数字键盘中寻找这样一个零件是否存在。在这种情况下，它实际上没有。

这里的风险相当低，但仍有机会假设具有特定容差和额定功率的特定电阻会出现在我们预期的尺寸中。实际上，当我们将数字输入到有源滤波器设计工具中，得到不可能的电阻和电容值时，我们可能会犯错误。务必先检查这些值是否存在！

### BOM 导出

将零部件送到制造商手中有两个主要的选择:要么*交钥匙*(装配车间提取零部件)要么*寄售*(你向供应商提供零部件，通常以卷轴形式)。因为装配厂比我们更了解他们机器的详细情况，所以提供这两种服务的装配厂通常更喜欢交钥匙工程。尽管如此，问吧！

无论您使用哪种流程，您仍然需要一个 BOM 来告诉供应商哪个引用对应于哪个部件。每个装配车间都是不同的，你的 BOM 可能不会以他们喜欢的格式出现。不过，一般来说，我建议重新调整你的 BOM，让它由独特的组件组织起来(即:所有的引用应该合并到一个字段中)。为什么？如果我们想象自己在组装端，我们需要在机器上装载一卷卷相同的组件。从客户处获得按独特组件组织的物料清单，使我们能够轻松确定需要装载到取放机中的卷盘数量。同样，当有疑问时，询问议会他们如何偏好他们的 BOM。

### 标记 DNP

偶尔，您会有一些不应该被填充的组件。在这种情况下，只需从 BOM 和位置文件中忽略它们，assembly house 就会安全地忽略它们。

### Fiducials

基准点作为装载零件的取放机的坐标参考点。简而言之，放置这些器件的机器需要在 PCB 顶部叠加一个坐标框架，使器件坐标与电路板上的正确位置相匹配。要做到这一点，至少需要两个基准点。

![](../Images/313594e5480a8098d41db20816fe397a.png)

这些点让机器使用三角学计算实际的纸板方向。将它们放置在对角，尽可能靠近板边。确切的位置并不重要，但两点之间的距离越远，重叠坐标框架的误差就越小。将三个基准点放置在尽可能靠近角落的位置，也可以让机器计算实际 PCB 层中的任何偏斜，这种偏斜可能是在制造时引入的，尽管通常没有必要。

### 最终足迹尺寸检查

[![](../Images/6b207b8837d32c4257489454adaea3c8.png)](https://hackaday.com/wp-content/uploads/2017/05/w33008ask2-e1493505486373_thumbnail.png)

Check Your Footprints

组装电路板需要花费时间(有时需要两周——哎哟)和金钱(从几百到几千)。仔细检查自己可能会花费我们几个小时，但是如果我们发现了 bug，这两个星期的等待是值得的。在我们发送 fab 的电路板文件之前，我建议在一张纸上以 1 倍的比例打印铜和丝网层。然后，手里拿着*实际组件*，将它们放在一个刻度图像上，并确保足迹模式确实检查正常。

这里至关重要的是，我们要在电路板变得不可思议之前*发现任何零件尺寸问题。如果你做了自定义的脚印或者从网上下载了一些朋友的脚印，这一步尤其重要。尽管如此，如果你从有效的来源获取足迹，这对*甚至*都是有帮助的。在我的不幸中，我只是选择了错误的足迹。*

## 去一个年轻的流氓从未去过的地方

在 Hackaday 上，我们喜欢一次性的东西:像 Windows XP 一样发出声音的微波炉，或者让我们可以随身携带 GameCube 的便携式控制台。我们在这里展示的许多成功都是由单个工程师一次性完成的，这没关系！在这些黑客中，我们不需要保持我们的工作整洁。我们不需要清理自己的代码。如果对我们有意义，就都好，对吧？

不管你喜不喜欢，总有一天我们需要对我们的设计做些什么，而这在地下室黑客的世界里是无法形容的。我们需要*分享*它。共享可能听起来没什么大不了的，但是如果我们已经远离标准实践太久了，我们将永远也不能找到其他的业余工程师来帮助我们。我们将永远无法与装配厂或合同制造商沟通，他们应该为我们处理一些繁重的流程。想找个机械商店给你切零件吗？看来我们需要学习如何用 [GD & T](https://en.wikipedia.org/wiki/Geometric_dimensioning_and_tolerancing) 标注零件尺寸。想得到你的印刷电路板组装？最好把这些质心放在正确的位置！

从长远来看，遵循国际设计规范实际上会让我们的生活更轻松。如果我们选择使用我们的工程师同事使用的公认的标准做法，当我们需要别人*或*来组装我们的电路板时，我们都会在同一条船上漂浮。我们会说同一种语言，工程师的语言。

## 制造前清单:

如果你正在制作将被专业组装的印刷电路板，我列出了一个需要记住的要点清单。记住，网上有很多这样的东西。我建议选择一个最符合你的 CAD 工具和工作流程的。

#### 在符号/示意图库创建期间:

*   我的库占用空间的设计方向是否与卷轴相匹配？
*   我的库示意图原点与实际零件的质心匹配吗？
*   如果存在各种封装，我是否使用了*完整的*零件号，即*和*表示封装类型？

#### 原理图捕获期间:

*   我的 PCB 组装厂是否会使用供应商库存的所有器件，或者我的电路板是否会有交付周期，因为有些器件无法立即供货？
*   我知道我的“软糖”组件(电阻、电容等)的规格吗？)，以防我的组装厂想要建议他们已经有的替代组件？(更好:我能以某种方式将这些规格添加到我的 BOM 中吗？)
*   我选择的所有原理图符号和示意图是否都与实际元件相匹配？(或者我刚刚放入了一个尺寸规格不合适的电容器？)

#### PCB 布局前:

*   设计规则:我选择的走线宽度、走线间距、过孔直径和过孔尺寸是否与我的制造商实际制造的相当？

#### PCB 布局后:

*   我完成的布局是否通过了布局设计规则检查？如果不是，我能证明标记的每个错误吗？

#### 在送去组装之前

*   (再次)如果同一个元件存在不同的器件封装，我是否使用了*完整的*零件号，即*也*表示封装类型？
*   我能以 PCB 组装厂喜欢的方式导出 BOM 吗？(通常，通过唯一的零件号)
*   我是否从 BOM 和职位文件中删除了任何 DNP 组件？
*   我需要清楚地指出任何具有对称覆盖区的不明确的极化元件的方向吗？(此处为版面作品图片)

### 参考

*   [用于 CAD 库构建的电子元件零取向](http://ohm.bu.edu/~pbohn/__Engineering_Reference/pcb_layout/pcbmatrix/Component%20Zero%20Orientations%20for%20CAD%20Libraries.pdf) IEC 通用封装及其默认取向指南
*   IPC-7351 规范
    定义了设计封装库的规范。(禁止区域，质心定义)
*   [KiCad 第一部分](https://rheingoldheavy.com/design-assembly-kicad/) 中的制造设计是理解足迹设计卷轴方向的重要指南。