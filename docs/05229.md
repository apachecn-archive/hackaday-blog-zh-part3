# 亚马逊 S3:像光一样熄灭；像浴缸一样

> 原文:[https://hackaday . com/2017/03/03/Amazon-S3-out-like-a-light-on-like-a-tubbush/](https://hackaday.com/2017/03/03/amazon-s3-out-like-a-light-on-like-a-bathtub/)

你肯定听说了本周早些时候发生的亚马逊 S3 断电事件。媒体对此进行了广泛的报道，这些媒体通常不会深入研究支持我们互联世界的技术细节。一件有趣的事情是，大多数人听说过云，但从来没有听说过 AWS，当然更没有听说过 S3。

我们没有报道停电，但是我们记住了事后的细节。引擎盖下很好看。我们对亚马逊表示敬意，因为它促进了公司分享围绕此类事件的血腥细节的增长趋势，这样我们就可以了解是什么导致了这种情况，以及他们打算如何在未来避免这种情况。

原来 S3 团队正在解决计费系统的某个部分的问题，为此，需要关闭一些服务器。关闭这些机器时使用的错误命令最终会影响比预期更大的数据块。所以他们就像电灯开关一样熄灭了——但是再打开这个开关就不那么容易了。

宕机的服务器运行 S3 API 中的各种命令。随着简单存储服务的爆炸式增长，这种“重启”已经有几年没有尝试过了，花费的时间比预期的要长得多。除此之外，当他们将 API 服务器恢复在线时，任务也越积越多。处理积压的工作也需要时间。这个过程就像等待浴缸注满水。对于相关人员来说，这肯定是一个痛苦的过程，但肯定没有几周前不得不恢复 GitLab 服务的人糟糕。

[通过[/r/编程](https://www.reddit.com/r/programming/comments/5x4hez/aws_released_a_summary_of_the_s3_issue_from/)