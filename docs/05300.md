# Linux-Fu:网络应用

> 原文:[https://hack aday . com/2017/03/31/Linux-fu-applications-on-the-web/](https://hackaday.com/2017/03/31/linux-fu-applications-on-the-web/)

您知道吗，您可以在支持 HTML5 的浏览器中运行远程 Linux GUI 程序？它甚至是安全的，因为你可以使用 SSH 隧道，这个小技巧意味着你甚至不需要打开额外的端口。如果这听起来像胡言乱语，请继续阅读，它实际上非常容易启动和运行。

最近，我在休斯顿的播客上做客，主持人问我，为 Hackaday 写作最好的事情是不是和 Hackaday 的其他员工一起工作。我告诉他们这真的很好，但我最喜欢的是与评论中的人(嗯，大多数人)互动。有时候你发布一篇文章，有人会在评论中提出一个让你大吃一惊的话题。这就是我如何得到这个近乎理想的远程访问解决方案的，除了 web 浏览器之外，在远程端不需要任何东西。

不久前，我发表了一篇关于在 Linux 机器上注销后保持程序运行的文章。这篇文章主要是关于非 GUI 程序的，但是你可以使用 NX 或者 VNC 来处理它。在评论中，有人提到他们对 NX 的最新版本有多不满意，另一个名为[Screen for X11]的评论者发布了一个名为 [xpra](https://xpra.org/) 的工具。

我从来没听说过，所以我去查了一下。我印象深刻。您可以远程处理单个应用程序(就像处理 ssh -X 一样；如果你想在你的大型台式电脑上使用一个小上网本，那就太好了)。您还可以获得普通桌面的卷影副本或创建新桌面。性能很好，可以通过 ssh 连接(也可以不连接)，进行基于证书的认证，等等。像许多其他类似的解决方案一样，您可以退出并从离开的地方重新开始。

[![](../Images/201b9c812ca129444f0bd56b5ca802bd.png)](https://hackaday.com/wp-content/uploads/2017/03/clock.png) 当我在阅读文档时，有一件事引起了我的注意。实际上内置了 HTML5 客户端和 web 服务器。这意味着您可以将应用程序从 Linux 机器导出到网络浏览器。这不是唯一的。有一个名为[鳄梨酱](https://guacamole.incubator.apache.org/)的 Apache 项目将做同样的事情，但它需要大量的开销，包括 JSP 服务器，上次我尝试时性能并不是很好。谷歌也有一个使用 Chrome 的远程桌面解决方案。然而，xpra 解决方案非常快而且非常灵活。在下面的视频中，你可以看到我使用 xpra 向远程服务器发送的截屏。这里是一个远程计算机上运行在谷歌 chrome 中的外壳和时钟的截图。

## 没有浏览器

重点似乎是将 xpra 同时用作服务器和客户机。你可以在该项目的 wiki 上找到许多常见用法的[例子。这是一个很好的起点，因为](https://xpra.org/trac/wiki/Usage)[手册页](https://xpra.org/trac/browser/xpra/trunk/src/man/xpra.1)揭示了大量的选项。您可以提供只读访问、导出声音、共享打印机、链接剪贴板、缩放视频等等——如果您有耐心阅读文档的话。

有几个操作系统的版本，所以即使你不是在所有地方都使用 Linux，你仍然可以尝试一下(老实说，虽然命令行很好，但我在让 Windows GUI 工作时遇到了一些麻烦)。我确实在 Ubuntu 仓库里找到了一个 xpra 版本，但是它已经过时了，而且不想工作了。从项目的存储库中安装要好得多。

## 安全性

最大的担忧当然是安全性。您可以设置 xpra 使用 SSL 认证或密码。您还可以使用包装器或[端口敲门](https://en.wikipedia.org/wiki/Port_knocking)来控制对端口的访问。我决定走一条不同的路线。我总是有一个防火墙来阻止我不希望在我的 Linux 机器上打开的端口。这样，如果有东西试图打开一个我不知道的端口，它应该会中断，在修复它的过程中，我会知道什么暴露给了外部世界。

我所做的是让 xpra 服务器在本地一个未使用的端口上运行，但是我没有为那个端口打开防火墙。理论上，任何可以登录到这台机器的人都可以访问远程应用程序，但是考虑到这是一台只有少量管理员的服务器，他们无论如何都可以进入任何东西。当然，只在同一台机器上远程访问不是重点，对吗？这就是为什么我使用 ssh 隧道到达远程端口。当然，这使得基于浏览器的客户端的便利性有所降低，但是可以创建隧道的 ssh 客户端随处可见，所以对于我的情况来说，这是可以接受的，并且看起来相对安全。如果有人闯入服务器，他们将可以访问任何东西，所以远程访问不会暴露任何新的东西。

你可以在下面的视频中看到我是如何使用 ssh 隧道的。您可以设置 xpra 来提供一个登录屏幕，这个屏幕(稍加配置)甚至可以使用 SSL。问题是，网络界面将密码放入 URL 中，这意味着您的密码将在您的浏览器历史中浮动。可能不是个好主意。

没有一种通用的安全解决方案。在你向世界展示你的 Linux 机器之前，确保你明白别人是如何侵入它并采取措施保护你自己的。

## 在使用中

使用它在 web 浏览器中为运行在 Raspberry Pi 上的应用程序提供只读访问并不困难。如果你确定你的安全，这也不需要是只读的。一个常见的谬误是认为你不关心安全性，因为你的树莓 Pi 只是做一些简单的事情。但如果它在互联网上，人们可能会想把它作为一个平台，利用你的硬件和互联网连接对其他人发起攻击。当涉及到安全时，不要忽略任何连接的设备，无论多么微不足道。

 [https://www.youtube.com/embed/Ukqs5M5Fthg?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/Ukqs5M5Fthg?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)

T2】