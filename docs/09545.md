# 菊花链传感器的自动 I2C 地址分配

> 原文:[https://hack aday . com/2018/05/23/automatic-I2C-address-allocation-for-daisy-chained-sensors/](https://hackaday.com/2018/05/23/automatic-i2c-address-allocation-for-daisy-chained-sensors/)

许多读者都熟悉 I2C 外设接口。串行线将一串独立的 I2C 设备连接在一起，每台设备在那条线上都有自己的地址。在大多数情况下，当连接单个设备或多个不同的设备时，确保它们具有不同的地址是没有问题的。

当多个*相同的*设备共享一条 I2C 总线时会发生什么？这是 Mindtribe 的[Sam Evans]面临的问题，而[他的解决方案既优雅又简单](http://mindtribe.com/2018/05/how-to-generate-unique-i2c-addresses/)。他在多个相同的电路板上使用的温度传感器有三个引脚，可以设置二进制地址，他的挑战是在没有一组 DIP 开关、跳线或单个上拉电阻的制造开销的情况下区分它们。通过电路板之间传感线的巧妙组合，他创造了一个系统，在这个系统中，地址的设置取决于电路板的一边、另一边或两边是否有邻居。一个特别聪明的黑客技术允许两个相邻的电路板交换最低有效位，允许四个相同的电路板(每个电路板有两个传感器)以菊花链形式连接，总共八个传感器，自动分配地址。

我们没有被告知这种情况下的产品是什么，但这无关紧要。从最纯粹的意义上来说，这是一次硬件黑客攻击，当轮到读者处理一辆拥挤的 I2C 公共汽车时，他们会注意到并记住这一点。当然，如果这种方法没有吸引力，[你总是可以尝试一个 LTC4316](https://hackaday.com/2017/02/17/ltc4316-is-the-i2c-babelfish/) 。